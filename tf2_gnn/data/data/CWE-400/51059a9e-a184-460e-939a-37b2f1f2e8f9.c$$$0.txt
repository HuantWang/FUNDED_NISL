-----label-----
1
-----code-----
static int add_to_queue(const char *queuename, const char *interface, const char *membername, int penalty, int paused, int dump, const char *state_interface)
{
	struct call_queue *q;
	struct member *new_member, *old_member;
	int res = RES_NOSUCHQUEUE;

	/*! \note Ensure the appropriate realtime queue is loaded.  Note that this
	 * short-circuits if the queue is already in memory. */
	if (!(q = find_load_queue_rt_friendly(queuename))) {
		return res;
	}

	ao2_lock(q);
	if ((old_member = interface_exists(q, interface)) == NULL) {
		if ((new_member = create_queue_member(interface, membername, penalty, paused, state_interface, q->ringinuse))) {
			new_member->ringinuse = q->ringinuse;
			new_member->dynamic = 1;
			member_add_to_queue(q, new_member);
			/*** DOCUMENTATION
			<managerEventInstance>
				<synopsis>Raised when a member is added to the queue.</synopsis>
				<syntax>
					<xi:include xpointer="xpointer(/docs/managerEvent[@name='QueueMemberStatus']/managerEventInstance/syntax/parameter[@name='Queue'])" />
					<xi:include xpointer="xpointer(/docs/managerEvent[@name='QueueMemberStatus']/managerEventInstance/syntax/parameter[@name='Location'])" />
					<xi:include xpointer="xpointer(/docs/managerEvent[@name='QueueMemberStatus']/managerEventInstance/syntax/parameter[@name='MemberName'])" />
					<xi:include xpointer="xpointer(/docs/managerEvent[@name='QueueMemberStatus']/managerEventInstance/syntax/parameter[@name='StateInterface'])" />
					<xi:include xpointer="xpointer(/docs/managerEvent[@name='QueueMemberStatus']/managerEventInstance/syntax/parameter[@name='Membership'])" />
					<xi:include xpointer="xpointer(/docs/managerEvent[@name='QueueMemberStatus']/managerEventInstance/syntax/parameter[@name='Penalty'])" />
					<xi:include xpointer="xpointer(/docs/managerEvent[@name='QueueMemberStatus']/managerEventInstance/syntax/parameter[@name='CallsTaken'])" />
					<xi:include xpointer="xpointer(/docs/managerEvent[@name='QueueMemberStatus']/managerEventInstance/syntax/parameter[@name='LastCall'])" />
					<xi:include xpointer="xpointer(/docs/managerEvent[@name='QueueMemberStatus']/managerEventInstance/syntax/parameter[@name='Status'])" />
					<xi:include xpointer="xpointer(/docs/managerEvent[@name='QueueMemberStatus']/managerEventInstance/syntax/parameter[@name='Paused'])" />
				</syntax>
				<see-also>
					<ref type="managerEvent">QueueMemberRemoved</ref>
					<ref type="application">AddQueueMember</ref>
				</see-also>
			</managerEventInstance>
			***/
			manager_event(EVENT_FLAG_AGENT, "QueueMemberAdded",
				"Queue: %s\r\n"
				"Location: %s\r\n"
				"MemberName: %s\r\n"
				"StateInterface: %s\r\n"
				"Membership: %s\r\n"
				"Penalty: %d\r\n"
				"CallsTaken: %d\r\n"
				"LastCall: %d\r\n"
				"Status: %d\r\n"
				"Paused: %d\r\n",
				q->name, new_member->interface, new_member->membername, state_interface,
				"dynamic",
				new_member->penalty, new_member->calls, (int) new_member->lastcall,
				new_member->status, new_member->paused);

			if (is_member_available(new_member)) {
				ast_devstate_changed(AST_DEVICE_NOT_INUSE, AST_DEVSTATE_CACHABLE, "Queue:%s_avail", q->name);
			}

			ao2_ref(new_member, -1);
			new_member = NULL;

			if (dump) {
				dump_queue_members(q);
			}

			res = RES_OKAY;
		} else {
			res = RES_OUTOFMEMORY;
		}
	} else {
		ao2_ref(old_member, -1);
		res = RES_EXISTS;
	}
	ao2_unlock(q);
	queue_t_unref(q, "Expiring temporary reference");

	return res;
}
-----children-----
1,2
1,3
1,4
3,4
3,5
3,6
3,7
3,8
3,9
3,10
3,11
5,6
5,7
7,8
7,9
10,11
10,12
12,13
12,14
15,16
15,17
17,18
17,19
20,21
20,22
22,23
24,25
24,26
26,27
28,29
28,30
30,31
32,33
32,34
34,35
34,36
37,38
37,39
37,40
37,41
37,42
37,43
37,44
37,45
37,46
38,39
39,40
39,41
40,41
42,43
42,44
45,46
46,47
46,48
46,49
47,48
49,50
49,51
52,53
52,54
55,56
56,57
56,58
58,59
58,60
60,61
61,62
63,64
63,65
64,65
65,66
66,67
66,68
67,68
69,70
69,71
70,71
72,73
74,75
75,76
76,77
78,79
79,80
79,81
80,81
82,83
84,85
84,86
84,87
85,86
85,87
86,87
87,88
87,89
88,89
90,91
90,92
90,93
91,92
93,94
95,96
97,98
99,100
100,101
100,102
100,103
101,102
102,103
102,104
103,104
105,106
105,107
105,108
105,109
105,110
105,111
105,112
106,107
108,109
110,111
112,113
114,115
116,117
118,119
118,120
119,120
122,123
122,124
122,125
122,126
122,127
122,128
122,129
122,130
122,131
123,124
124,125
124,126
125,126
125,127
126,127
129,130
129,131
130,131
133,134
134,135
134,136
135,136
135,137
136,137
140,141
141,142
141,143
141,144
142,143
144,145
146,147
148,149
149,150
149,151
149,152
149,153
149,154
149,155
149,156
149,157
149,158
149,159
149,160
149,161
149,162
149,163
150,151
152,153
156,157
156,158
157,158
160,161
160,162
161,162
164,165
164,166
165,166
168,169
171,172
171,173
172,173
175,176
175,177
176,177
179,180
179,181
180,181
180,182
183,184
183,185
184,185
187,188
187,189
188,189
191,192
191,193
192,193
195,196
195,197
196,197
196,198
197,198
199,200
201,202
202,203
203,204
203,205
203,206
203,207
203,208
204,205
206,207
208,209
211,212
211,213
212,213
215,216
216,217
216,218
216,219
217,218
219,220
221,222
223,224
224,225
224,226
225,226
227,228
229,230
229,231
230,231
232,233
233,234
234,235
234,236
235,236
237,238
239,240
240,241
240,242
241,242
243,244
245,246
246,247
247,248
247,249
248,249
250,251
252,253
252,254
253,254
254,255
254,256
254,257
255,256
257,258
259,260
261,262
262,263
262,264
263,264
265,266
267,268
268,269
268,270
269,270
271,272
273,274
274,275
274,276
274,277
275,276
277,278
280,281
281,282
-----nextToken-----
2,4,6,8,9,11,13,14,16,18,19,21,23,25,27,29,31,33,35,36,41,43,44,48,50,51,53,54,57,59,62,68,71,73,77,81,83,89,92,94,96,98,104,107,109,111,113,115,117,120,121,127,128,131,132,137,138,139,143,145,147,151,153,154,155,158,159,162,163,166,167,169,170,173,174,177,178,181,182,185,186,189,190,193,194,198,200,205,207,209,210,213,214,218,220,222,226,228,231,236,238,242,244,249,251,256,258,260,264,266,270,272,276,278,279,282
-----computeFrom-----
66,67
66,68
85,86
85,87
87,88
87,89
102,103
102,104
124,125
124,126
134,135
134,136
224,225
224,226
240,241
240,242
247,248
247,249
262,263
262,264
-----guardedBy-----
94,238
98,228
96,163
-----guardedByNegation-----
89,258
-----lastLexicalUse-----
-----jump-----
-----attribute-----
FunctionDefinition;SimpleDeclSpecifier;FunctionDeclarator;Name;ParameterDeclaration;SimpleDeclSpecifier;Declarator;Pointer;Name;ParameterDeclaration;SimpleDeclSpecifier;Declarator;Pointer;Name;ParameterDeclaration;SimpleDeclSpecifier;Declarator;Pointer;Name;ParameterDeclaration;SimpleDeclSpecifier;Declarator;Name;ParameterDeclaration;SimpleDeclSpecifier;Declarator;Name;ParameterDeclaration;SimpleDeclSpecifier;Declarator;Name;ParameterDeclaration;SimpleDeclSpecifier;Declarator;Pointer;Name;CompoundStatement;DeclarationStatement;SimpleDeclaration;ElaboratedTypeSpecifier;Name;Declarator;Pointer;Name;DeclarationStatement;SimpleDeclaration;ElaboratedTypeSpecifier;Name;Declarator;Pointer;Name;Declarator;Pointer;Name;DeclarationStatement;SimpleDeclaration;SimpleDeclSpecifier;Declarator;Name;EqualsInitializer;IdExpression;Name;IfStatement;UnaryExpression;UnaryExpression;BinaryExpression;IdExpression;Name;FunctionCallExpression;IdExpression;Name;IdExpression;Name;CompoundStatement;ReturnStatement;IdExpression;Name;ExpressionStatement;FunctionCallExpression;IdExpression;Name;IdExpression;Name;IfStatement;BinaryExpression;UnaryExpression;BinaryExpression;IdExpression;Name;FunctionCallExpression;IdExpression;Name;IdExpression;Name;IdExpression;Name;IdExpression;Name;CompoundStatement;IfStatement;UnaryExpression;BinaryExpression;IdExpression;Name;FunctionCallExpression;IdExpression;Name;IdExpression;Name;IdExpression;Name;IdExpression;Name;IdExpression;Name;IdExpression;Name;FieldReference;IdExpression;Name;Name;CompoundStatement;ExpressionStatement;BinaryExpression;FieldReference;IdExpression;Name;Name;FieldReference;IdExpression;Name;Name;ExpressionStatement;BinaryExpression;FieldReference;IdExpression;Name;Name;LiteralExpression;ExpressionStatement;FunctionCallExpression;IdExpression;Name;IdExpression;Name;IdExpression;Name;ExpressionStatement;FunctionCallExpression;IdExpression;Name;IdExpression;Name;LiteralExpression;LiteralExpression;FieldReference;IdExpression;Name;Name;FieldReference;IdExpression;Name;Name;FieldReference;IdExpression;Name;Name;IdExpression;Name;LiteralExpression;FieldReference;IdExpression;Name;Name;FieldReference;IdExpression;Name;Name;CastExpression;TypeId;SimpleDeclSpecifier;Declarator;FieldReference;IdExpression;Name;Name;FieldReference;IdExpression;Name;Name;FieldReference;IdExpression;Name;Name;IfStatement;FunctionCallExpression;IdExpression;Name;IdExpression;Name;CompoundStatement;ExpressionStatement;FunctionCallExpression;IdExpression;Name;IdExpression;Name;IdExpression;Name;LiteralExpression;FieldReference;IdExpression;Name;Name;ExpressionStatement;FunctionCallExpression;IdExpression;Name;IdExpression;Name;UnaryExpression;LiteralExpression;ExpressionStatement;BinaryExpression;IdExpression;Name;IdExpression;Name;IfStatement;IdExpression;Name;CompoundStatement;ExpressionStatement;FunctionCallExpression;IdExpression;Name;IdExpression;Name;ExpressionStatement;BinaryExpression;IdExpression;Name;IdExpression;Name;CompoundStatement;ExpressionStatement;BinaryExpression;IdExpression;Name;IdExpression;Name;CompoundStatement;ExpressionStatement;FunctionCallExpression;IdExpression;Name;IdExpression;Name;UnaryExpression;LiteralExpression;ExpressionStatement;BinaryExpression;IdExpression;Name;IdExpression;Name;ExpressionStatement;FunctionCallExpression;IdExpression;Name;IdExpression;Name;ExpressionStatement;FunctionCallExpression;IdExpression;Name;IdExpression;Name;LiteralExpression;ReturnStatement;IdExpression;Name;
-----ast_node-----
static int add_to_queue(const char *queuename, const char *interface, const char *membername, int penalty, int paused, int dump, const char *state_interface){	struct call_queue *q;	struct member *new_member, *old_member;	int res = RES_NOSUCHQUEUE;	/*! \note Ensure the appropriate realtime queue is loaded.  Note that this	 * short-circuits if the queue is already in memory. */	if (!(q = find_load_queue_rt_friendly(queuename))) {		return res;	}	ao2_lock(q);	if ((old_member = interface_exists(q, interface)) == NULL) {		if ((new_member = create_queue_member(interface, membername, penalty, paused, state_interface, q->ringinuse))) {			new_member->ringinuse = q->ringinuse;			new_member->dynamic = 1;			member_add_to_queue(q, new_member);			/*** DOCUMENTATION			<managerEventInstance>				<synopsis>Raised when a member is added to the queue.</synopsis>				<syntax>					<xi:include xpointer="xpointer(/docs/managerEvent[@name='QueueMemberStatus']/managerEventInstance/syntax/parameter[@name='Queue'])" />					<xi:include xpointer="xpointer(/docs/managerEvent[@name='QueueMemberStatus']/managerEventInstance/syntax/parameter[@name='Location'])" />					<xi:include xpointer="xpointer(/docs/managerEvent[@name='QueueMemberStatus']/managerEventInstance/syntax/parameter[@name='MemberName'])" />					<xi:include xpointer="xpointer(/docs/managerEvent[@name='QueueMemberStatus']/managerEventInstance/syntax/parameter[@name='StateInterface'])" />					<xi:include xpointer="xpointer(/docs/managerEvent[@name='QueueMemberStatus']/managerEventInstance/syntax/parameter[@name='Membership'])" />					<xi:include xpointer="xpointer(/docs/managerEvent[@name='QueueMemberStatus']/managerEventInstance/syntax/parameter[@name='Penalty'])" />					<xi:include xpointer="xpointer(/docs/managerEvent[@name='QueueMemberStatus']/managerEventInstance/syntax/parameter[@name='CallsTaken'])" />					<xi:include xpointer="xpointer(/docs/managerEvent[@name='QueueMemberStatus']/managerEventInstance/syntax/parameter[@name='LastCall'])" />					<xi:include xpointer="xpointer(/docs/managerEvent[@name='QueueMemberStatus']/managerEventInstance/syntax/parameter[@name='Status'])" />					<xi:include xpointer="xpointer(/docs/managerEvent[@name='QueueMemberStatus']/managerEventInstance/syntax/parameter[@name='Paused'])" />				</syntax>				<see-also>					<ref type="managerEvent">QueueMemberRemoved</ref>					<ref type="application">AddQueueMember</ref>				</see-also>			</managerEventInstance>			***/			manager_event(EVENT_FLAG_AGENT, "QueueMemberAdded",				"Queue: %s\r\n"				"Location: %s\r\n"				"MemberName: %s\r\n"				"StateInterface: %s\r\n"				"Membership: %s\r\n"				"Penalty: %d\r\n"				"CallsTaken: %d\r\n"				"LastCall: %d\r\n"				"Status: %d\r\n"				"Paused: %d\r\n",				q->name, new_member->interface, new_member->membername, state_interface,				"dynamic",				new_member->penalty, new_member->calls, (int) new_member->lastcall,				new_member->status, new_member->paused);			if (is_member_available(new_member)) {				ast_devstate_changed(AST_DEVICE_NOT_INUSE, AST_DEVSTATE_CACHABLE, "Queue:%s_avail", q->name);			}			ao2_ref(new_member, -1);			new_member = NULL;			if (dump) {				dump_queue_members(q);			}			res = RES_OKAY;		} else {			res = RES_OUTOFMEMORY;		}	} else {		ao2_ref(old_member, -1);		res = RES_EXISTS;	}	ao2_unlock(q);	queue_t_unref(q, "Expiring temporary reference");	return res;}
static int
add_to_queue(const char *queuename, const char *interface, const char *membername, int penalty, int paused, int dump, const char *state_interface)
add_to_queue
const char *queuename
const char
*queuename
*
queuename
const char *interface
const char
*interface
*
interface
const char *membername
const char
*membername
*
membername
int penalty
int
penalty
penalty
int paused
int
paused
paused
int dump
int
dump
dump
const char *state_interface
const char
*state_interface
*
state_interface
{	struct call_queue *q;	struct member *new_member, *old_member;	int res = RES_NOSUCHQUEUE;	/*! \note Ensure the appropriate realtime queue is loaded.  Note that this	 * short-circuits if the queue is already in memory. */	if (!(q = find_load_queue_rt_friendly(queuename))) {		return res;	}	ao2_lock(q);	if ((old_member = interface_exists(q, interface)) == NULL) {		if ((new_member = create_queue_member(interface, membername, penalty, paused, state_interface, q->ringinuse))) {			new_member->ringinuse = q->ringinuse;			new_member->dynamic = 1;			member_add_to_queue(q, new_member);			/*** DOCUMENTATION			<managerEventInstance>				<synopsis>Raised when a member is added to the queue.</synopsis>				<syntax>					<xi:include xpointer="xpointer(/docs/managerEvent[@name='QueueMemberStatus']/managerEventInstance/syntax/parameter[@name='Queue'])" />					<xi:include xpointer="xpointer(/docs/managerEvent[@name='QueueMemberStatus']/managerEventInstance/syntax/parameter[@name='Location'])" />					<xi:include xpointer="xpointer(/docs/managerEvent[@name='QueueMemberStatus']/managerEventInstance/syntax/parameter[@name='MemberName'])" />					<xi:include xpointer="xpointer(/docs/managerEvent[@name='QueueMemberStatus']/managerEventInstance/syntax/parameter[@name='StateInterface'])" />					<xi:include xpointer="xpointer(/docs/managerEvent[@name='QueueMemberStatus']/managerEventInstance/syntax/parameter[@name='Membership'])" />					<xi:include xpointer="xpointer(/docs/managerEvent[@name='QueueMemberStatus']/managerEventInstance/syntax/parameter[@name='Penalty'])" />					<xi:include xpointer="xpointer(/docs/managerEvent[@name='QueueMemberStatus']/managerEventInstance/syntax/parameter[@name='CallsTaken'])" />					<xi:include xpointer="xpointer(/docs/managerEvent[@name='QueueMemberStatus']/managerEventInstance/syntax/parameter[@name='LastCall'])" />					<xi:include xpointer="xpointer(/docs/managerEvent[@name='QueueMemberStatus']/managerEventInstance/syntax/parameter[@name='Status'])" />					<xi:include xpointer="xpointer(/docs/managerEvent[@name='QueueMemberStatus']/managerEventInstance/syntax/parameter[@name='Paused'])" />				</syntax>				<see-also>					<ref type="managerEvent">QueueMemberRemoved</ref>					<ref type="application">AddQueueMember</ref>				</see-also>			</managerEventInstance>			***/			manager_event(EVENT_FLAG_AGENT, "QueueMemberAdded",				"Queue: %s\r\n"				"Location: %s\r\n"				"MemberName: %s\r\n"				"StateInterface: %s\r\n"				"Membership: %s\r\n"				"Penalty: %d\r\n"				"CallsTaken: %d\r\n"				"LastCall: %d\r\n"				"Status: %d\r\n"				"Paused: %d\r\n",				q->name, new_member->interface, new_member->membername, state_interface,				"dynamic",				new_member->penalty, new_member->calls, (int) new_member->lastcall,				new_member->status, new_member->paused);			if (is_member_available(new_member)) {				ast_devstate_changed(AST_DEVICE_NOT_INUSE, AST_DEVSTATE_CACHABLE, "Queue:%s_avail", q->name);			}			ao2_ref(new_member, -1);			new_member = NULL;			if (dump) {				dump_queue_members(q);			}			res = RES_OKAY;		} else {			res = RES_OUTOFMEMORY;		}	} else {		ao2_ref(old_member, -1);		res = RES_EXISTS;	}	ao2_unlock(q);	queue_t_unref(q, "Expiring temporary reference");	return res;}
struct call_queue *q;
struct call_queue *q;
struct call_queue
call_queue
*q
*
q
struct member *new_member, *old_member;
struct member *new_member, *old_member;
struct member
member
*new_member
*
new_member
*old_member
*
old_member
int res = RES_NOSUCHQUEUE;
int res = RES_NOSUCHQUEUE;
int
res = RES_NOSUCHQUEUE
res
= RES_NOSUCHQUEUE
RES_NOSUCHQUEUE
RES_NOSUCHQUEUE
if (!(q = find_load_queue_rt_friendly(queuename))) {		return res;	}
!(q = find_load_queue_rt_friendly(queuename))
(q = find_load_queue_rt_friendly(queuename))
q = find_load_queue_rt_friendly(queuename)
q
q
find_load_queue_rt_friendly(queuename)
find_load_queue_rt_friendly
find_load_queue_rt_friendly
queuename
queuename
{		return res;	}
return res;
res
res
ao2_lock(q);
ao2_lock(q)
ao2_lock
ao2_lock
q
q
if ((old_member = interface_exists(q, interface)) == NULL) {		if ((new_member = create_queue_member(interface, membername, penalty, paused, state_interface, q->ringinuse))) {			new_member->ringinuse = q->ringinuse;			new_member->dynamic = 1;			member_add_to_queue(q, new_member);			/*** DOCUMENTATION			<managerEventInstance>				<synopsis>Raised when a member is added to the queue.</synopsis>				<syntax>					<xi:include xpointer="xpointer(/docs/managerEvent[@name='QueueMemberStatus']/managerEventInstance/syntax/parameter[@name='Queue'])" />					<xi:include xpointer="xpointer(/docs/managerEvent[@name='QueueMemberStatus']/managerEventInstance/syntax/parameter[@name='Location'])" />					<xi:include xpointer="xpointer(/docs/managerEvent[@name='QueueMemberStatus']/managerEventInstance/syntax/parameter[@name='MemberName'])" />					<xi:include xpointer="xpointer(/docs/managerEvent[@name='QueueMemberStatus']/managerEventInstance/syntax/parameter[@name='StateInterface'])" />					<xi:include xpointer="xpointer(/docs/managerEvent[@name='QueueMemberStatus']/managerEventInstance/syntax/parameter[@name='Membership'])" />					<xi:include xpointer="xpointer(/docs/managerEvent[@name='QueueMemberStatus']/managerEventInstance/syntax/parameter[@name='Penalty'])" />					<xi:include xpointer="xpointer(/docs/managerEvent[@name='QueueMemberStatus']/managerEventInstance/syntax/parameter[@name='CallsTaken'])" />					<xi:include xpointer="xpointer(/docs/managerEvent[@name='QueueMemberStatus']/managerEventInstance/syntax/parameter[@name='LastCall'])" />					<xi:include xpointer="xpointer(/docs/managerEvent[@name='QueueMemberStatus']/managerEventInstance/syntax/parameter[@name='Status'])" />					<xi:include xpointer="xpointer(/docs/managerEvent[@name='QueueMemberStatus']/managerEventInstance/syntax/parameter[@name='Paused'])" />				</syntax>				<see-also>					<ref type="managerEvent">QueueMemberRemoved</ref>					<ref type="application">AddQueueMember</ref>				</see-also>			</managerEventInstance>			***/			manager_event(EVENT_FLAG_AGENT, "QueueMemberAdded",				"Queue: %s\r\n"				"Location: %s\r\n"				"MemberName: %s\r\n"				"StateInterface: %s\r\n"				"Membership: %s\r\n"				"Penalty: %d\r\n"				"CallsTaken: %d\r\n"				"LastCall: %d\r\n"				"Status: %d\r\n"				"Paused: %d\r\n",				q->name, new_member->interface, new_member->membername, state_interface,				"dynamic",				new_member->penalty, new_member->calls, (int) new_member->lastcall,				new_member->status, new_member->paused);			if (is_member_available(new_member)) {				ast_devstate_changed(AST_DEVICE_NOT_INUSE, AST_DEVSTATE_CACHABLE, "Queue:%s_avail", q->name);			}			ao2_ref(new_member, -1);			new_member = NULL;			if (dump) {				dump_queue_members(q);			}			res = RES_OKAY;		} else {			res = RES_OUTOFMEMORY;		}	} else {		ao2_ref(old_member, -1);		res = RES_EXISTS;	}
(old_member = interface_exists(q, interface)) == NULL
(old_member = interface_exists(q, interface))
old_member = interface_exists(q, interface)
old_member
old_member
interface_exists(q, interface)
interface_exists
interface_exists
q
q
interface
interface
NULL
NULL
{		if ((new_member = create_queue_member(interface, membername, penalty, paused, state_interface, q->ringinuse))) {			new_member->ringinuse = q->ringinuse;			new_member->dynamic = 1;			member_add_to_queue(q, new_member);			/*** DOCUMENTATION			<managerEventInstance>				<synopsis>Raised when a member is added to the queue.</synopsis>				<syntax>					<xi:include xpointer="xpointer(/docs/managerEvent[@name='QueueMemberStatus']/managerEventInstance/syntax/parameter[@name='Queue'])" />					<xi:include xpointer="xpointer(/docs/managerEvent[@name='QueueMemberStatus']/managerEventInstance/syntax/parameter[@name='Location'])" />					<xi:include xpointer="xpointer(/docs/managerEvent[@name='QueueMemberStatus']/managerEventInstance/syntax/parameter[@name='MemberName'])" />					<xi:include xpointer="xpointer(/docs/managerEvent[@name='QueueMemberStatus']/managerEventInstance/syntax/parameter[@name='StateInterface'])" />					<xi:include xpointer="xpointer(/docs/managerEvent[@name='QueueMemberStatus']/managerEventInstance/syntax/parameter[@name='Membership'])" />					<xi:include xpointer="xpointer(/docs/managerEvent[@name='QueueMemberStatus']/managerEventInstance/syntax/parameter[@name='Penalty'])" />					<xi:include xpointer="xpointer(/docs/managerEvent[@name='QueueMemberStatus']/managerEventInstance/syntax/parameter[@name='CallsTaken'])" />					<xi:include xpointer="xpointer(/docs/managerEvent[@name='QueueMemberStatus']/managerEventInstance/syntax/parameter[@name='LastCall'])" />					<xi:include xpointer="xpointer(/docs/managerEvent[@name='QueueMemberStatus']/managerEventInstance/syntax/parameter[@name='Status'])" />					<xi:include xpointer="xpointer(/docs/managerEvent[@name='QueueMemberStatus']/managerEventInstance/syntax/parameter[@name='Paused'])" />				</syntax>				<see-also>					<ref type="managerEvent">QueueMemberRemoved</ref>					<ref type="application">AddQueueMember</ref>				</see-also>			</managerEventInstance>			***/			manager_event(EVENT_FLAG_AGENT, "QueueMemberAdded",				"Queue: %s\r\n"				"Location: %s\r\n"				"MemberName: %s\r\n"				"StateInterface: %s\r\n"				"Membership: %s\r\n"				"Penalty: %d\r\n"				"CallsTaken: %d\r\n"				"LastCall: %d\r\n"				"Status: %d\r\n"				"Paused: %d\r\n",				q->name, new_member->interface, new_member->membername, state_interface,				"dynamic",				new_member->penalty, new_member->calls, (int) new_member->lastcall,				new_member->status, new_member->paused);			if (is_member_available(new_member)) {				ast_devstate_changed(AST_DEVICE_NOT_INUSE, AST_DEVSTATE_CACHABLE, "Queue:%s_avail", q->name);			}			ao2_ref(new_member, -1);			new_member = NULL;			if (dump) {				dump_queue_members(q);			}			res = RES_OKAY;		} else {			res = RES_OUTOFMEMORY;		}	}
if ((new_member = create_queue_member(interface, membername, penalty, paused, state_interface, q->ringinuse))) {			new_member->ringinuse = q->ringinuse;			new_member->dynamic = 1;			member_add_to_queue(q, new_member);			/*** DOCUMENTATION			<managerEventInstance>				<synopsis>Raised when a member is added to the queue.</synopsis>				<syntax>					<xi:include xpointer="xpointer(/docs/managerEvent[@name='QueueMemberStatus']/managerEventInstance/syntax/parameter[@name='Queue'])" />					<xi:include xpointer="xpointer(/docs/managerEvent[@name='QueueMemberStatus']/managerEventInstance/syntax/parameter[@name='Location'])" />					<xi:include xpointer="xpointer(/docs/managerEvent[@name='QueueMemberStatus']/managerEventInstance/syntax/parameter[@name='MemberName'])" />					<xi:include xpointer="xpointer(/docs/managerEvent[@name='QueueMemberStatus']/managerEventInstance/syntax/parameter[@name='StateInterface'])" />					<xi:include xpointer="xpointer(/docs/managerEvent[@name='QueueMemberStatus']/managerEventInstance/syntax/parameter[@name='Membership'])" />					<xi:include xpointer="xpointer(/docs/managerEvent[@name='QueueMemberStatus']/managerEventInstance/syntax/parameter[@name='Penalty'])" />					<xi:include xpointer="xpointer(/docs/managerEvent[@name='QueueMemberStatus']/managerEventInstance/syntax/parameter[@name='CallsTaken'])" />					<xi:include xpointer="xpointer(/docs/managerEvent[@name='QueueMemberStatus']/managerEventInstance/syntax/parameter[@name='LastCall'])" />					<xi:include xpointer="xpointer(/docs/managerEvent[@name='QueueMemberStatus']/managerEventInstance/syntax/parameter[@name='Status'])" />					<xi:include xpointer="xpointer(/docs/managerEvent[@name='QueueMemberStatus']/managerEventInstance/syntax/parameter[@name='Paused'])" />				</syntax>				<see-also>					<ref type="managerEvent">QueueMemberRemoved</ref>					<ref type="application">AddQueueMember</ref>				</see-also>			</managerEventInstance>			***/			manager_event(EVENT_FLAG_AGENT, "QueueMemberAdded",				"Queue: %s\r\n"				"Location: %s\r\n"				"MemberName: %s\r\n"				"StateInterface: %s\r\n"				"Membership: %s\r\n"				"Penalty: %d\r\n"				"CallsTaken: %d\r\n"				"LastCall: %d\r\n"				"Status: %d\r\n"				"Paused: %d\r\n",				q->name, new_member->interface, new_member->membername, state_interface,				"dynamic",				new_member->penalty, new_member->calls, (int) new_member->lastcall,				new_member->status, new_member->paused);			if (is_member_available(new_member)) {				ast_devstate_changed(AST_DEVICE_NOT_INUSE, AST_DEVSTATE_CACHABLE, "Queue:%s_avail", q->name);			}			ao2_ref(new_member, -1);			new_member = NULL;			if (dump) {				dump_queue_members(q);			}			res = RES_OKAY;		} else {			res = RES_OUTOFMEMORY;		}
(new_member = create_queue_member(interface, membername, penalty, paused, state_interface, q->ringinuse))
new_member = create_queue_member(interface, membername, penalty, paused, state_interface, q->ringinuse)
new_member
new_member
create_queue_member(interface, membername, penalty, paused, state_interface, q->ringinuse)
create_queue_member
create_queue_member
interface
interface
membername
membername
penalty
penalty
paused
paused
state_interface
state_interface
q->ringinuse
q
q
ringinuse
{			new_member->ringinuse = q->ringinuse;			new_member->dynamic = 1;			member_add_to_queue(q, new_member);			/*** DOCUMENTATION			<managerEventInstance>				<synopsis>Raised when a member is added to the queue.</synopsis>				<syntax>					<xi:include xpointer="xpointer(/docs/managerEvent[@name='QueueMemberStatus']/managerEventInstance/syntax/parameter[@name='Queue'])" />					<xi:include xpointer="xpointer(/docs/managerEvent[@name='QueueMemberStatus']/managerEventInstance/syntax/parameter[@name='Location'])" />					<xi:include xpointer="xpointer(/docs/managerEvent[@name='QueueMemberStatus']/managerEventInstance/syntax/parameter[@name='MemberName'])" />					<xi:include xpointer="xpointer(/docs/managerEvent[@name='QueueMemberStatus']/managerEventInstance/syntax/parameter[@name='StateInterface'])" />					<xi:include xpointer="xpointer(/docs/managerEvent[@name='QueueMemberStatus']/managerEventInstance/syntax/parameter[@name='Membership'])" />					<xi:include xpointer="xpointer(/docs/managerEvent[@name='QueueMemberStatus']/managerEventInstance/syntax/parameter[@name='Penalty'])" />					<xi:include xpointer="xpointer(/docs/managerEvent[@name='QueueMemberStatus']/managerEventInstance/syntax/parameter[@name='CallsTaken'])" />					<xi:include xpointer="xpointer(/docs/managerEvent[@name='QueueMemberStatus']/managerEventInstance/syntax/parameter[@name='LastCall'])" />					<xi:include xpointer="xpointer(/docs/managerEvent[@name='QueueMemberStatus']/managerEventInstance/syntax/parameter[@name='Status'])" />					<xi:include xpointer="xpointer(/docs/managerEvent[@name='QueueMemberStatus']/managerEventInstance/syntax/parameter[@name='Paused'])" />				</syntax>				<see-also>					<ref type="managerEvent">QueueMemberRemoved</ref>					<ref type="application">AddQueueMember</ref>				</see-also>			</managerEventInstance>			***/			manager_event(EVENT_FLAG_AGENT, "QueueMemberAdded",				"Queue: %s\r\n"				"Location: %s\r\n"				"MemberName: %s\r\n"				"StateInterface: %s\r\n"				"Membership: %s\r\n"				"Penalty: %d\r\n"				"CallsTaken: %d\r\n"				"LastCall: %d\r\n"				"Status: %d\r\n"				"Paused: %d\r\n",				q->name, new_member->interface, new_member->membername, state_interface,				"dynamic",				new_member->penalty, new_member->calls, (int) new_member->lastcall,				new_member->status, new_member->paused);			if (is_member_available(new_member)) {				ast_devstate_changed(AST_DEVICE_NOT_INUSE, AST_DEVSTATE_CACHABLE, "Queue:%s_avail", q->name);			}			ao2_ref(new_member, -1);			new_member = NULL;			if (dump) {				dump_queue_members(q);			}			res = RES_OKAY;		}
new_member->ringinuse = q->ringinuse;
new_member->ringinuse = q->ringinuse
new_member->ringinuse
new_member
new_member
ringinuse
q->ringinuse
q
q
ringinuse
new_member->dynamic = 1;
new_member->dynamic = 1
new_member->dynamic
new_member
new_member
dynamic
1
member_add_to_queue(q, new_member);
member_add_to_queue(q, new_member)
member_add_to_queue
member_add_to_queue
q
q
new_member
new_member
manager_event(EVENT_FLAG_AGENT, "QueueMemberAdded",				"Queue: %s\r\n"				"Location: %s\r\n"				"MemberName: %s\r\n"				"StateInterface: %s\r\n"				"Membership: %s\r\n"				"Penalty: %d\r\n"				"CallsTaken: %d\r\n"				"LastCall: %d\r\n"				"Status: %d\r\n"				"Paused: %d\r\n",				q->name, new_member->interface, new_member->membername, state_interface,				"dynamic",				new_member->penalty, new_member->calls, (int) new_member->lastcall,				new_member->status, new_member->paused);
manager_event(EVENT_FLAG_AGENT, "QueueMemberAdded",				"Queue: %s\r\n"				"Location: %s\r\n"				"MemberName: %s\r\n"				"StateInterface: %s\r\n"				"Membership: %s\r\n"				"Penalty: %d\r\n"				"CallsTaken: %d\r\n"				"LastCall: %d\r\n"				"Status: %d\r\n"				"Paused: %d\r\n",				q->name, new_member->interface, new_member->membername, state_interface,				"dynamic",				new_member->penalty, new_member->calls, (int) new_member->lastcall,				new_member->status, new_member->paused)
manager_event
manager_event
EVENT_FLAG_AGENT
EVENT_FLAG_AGENT
"QueueMemberAdded"
"Queue: %s\r\n"				"Location: %s\r\n"				"MemberName: %s\r\n"				"StateInterface: %s\r\n"				"Membership: %s\r\n"				"Penalty: %d\r\n"				"CallsTaken: %d\r\n"				"LastCall: %d\r\n"				"Status: %d\r\n"				"Paused: %d\r\n"
q->name
q
q
name
new_member->interface
new_member
new_member
interface
new_member->membername
new_member
new_member
membername
state_interface
state_interface
"dynamic"
new_member->penalty
new_member
new_member
penalty
new_member->calls
new_member
new_member
calls
(int) new_member->lastcall
int
int

new_member->lastcall
new_member
new_member
lastcall
new_member->status
new_member
new_member
status
new_member->paused
new_member
new_member
paused
if (is_member_available(new_member)) {				ast_devstate_changed(AST_DEVICE_NOT_INUSE, AST_DEVSTATE_CACHABLE, "Queue:%s_avail", q->name);			}
is_member_available(new_member)
is_member_available
is_member_available
new_member
new_member
{				ast_devstate_changed(AST_DEVICE_NOT_INUSE, AST_DEVSTATE_CACHABLE, "Queue:%s_avail", q->name);			}
ast_devstate_changed(AST_DEVICE_NOT_INUSE, AST_DEVSTATE_CACHABLE, "Queue:%s_avail", q->name);
ast_devstate_changed(AST_DEVICE_NOT_INUSE, AST_DEVSTATE_CACHABLE, "Queue:%s_avail", q->name)
ast_devstate_changed
ast_devstate_changed
AST_DEVICE_NOT_INUSE
AST_DEVICE_NOT_INUSE
AST_DEVSTATE_CACHABLE
AST_DEVSTATE_CACHABLE
"Queue:%s_avail"
q->name
q
q
name
ao2_ref(new_member, -1);
ao2_ref(new_member, -1)
ao2_ref
ao2_ref
new_member
new_member
-1
1
new_member = NULL;
new_member = NULL
new_member
new_member
NULL
NULL
if (dump) {				dump_queue_members(q);			}
dump
dump
{				dump_queue_members(q);			}
dump_queue_members(q);
dump_queue_members(q)
dump_queue_members
dump_queue_members
q
q
res = RES_OKAY;
res = RES_OKAY
res
res
RES_OKAY
RES_OKAY
{			res = RES_OUTOFMEMORY;		}
res = RES_OUTOFMEMORY;
res = RES_OUTOFMEMORY
res
res
RES_OUTOFMEMORY
RES_OUTOFMEMORY
{		ao2_ref(old_member, -1);		res = RES_EXISTS;	}
ao2_ref(old_member, -1);
ao2_ref(old_member, -1)
ao2_ref
ao2_ref
old_member
old_member
-1
1
res = RES_EXISTS;
res = RES_EXISTS
res
res
RES_EXISTS
RES_EXISTS
ao2_unlock(q);
ao2_unlock(q)
ao2_unlock
ao2_unlock
q
q
queue_t_unref(q, "Expiring temporary reference");
queue_t_unref(q, "Expiring temporary reference")
queue_t_unref
queue_t_unref
q
q
"Expiring temporary reference"
return res;
res
res
-----joern-----
(31,100,0)
(111,130,0)
(9,53,0)
(15,101,0)
(43,29,0)
(121,6,0)
(13,138,0)
(87,82,0)
(52,54,0)
(42,28,0)
(101,132,0)
(98,132,0)
(138,114,0)
(97,114,0)
(11,65,0)
(27,132,0)
(89,65,0)
(86,64,0)
(133,138,0)
(21,63,0)
(130,105,0)
(30,19,0)
(54,23,0)
(47,96,0)
(59,78,0)
(29,114,0)
(84,114,0)
(73,90,0)
(92,128,0)
(65,64,0)
(67,130,0)
(68,132,0)
(132,122,0)
(3,64,0)
(124,42,0)
(34,6,0)
(128,64,0)
(110,18,0)
(112,110,0)
(58,84,0)
(63,107,0)
(99,113,0)
(33,87,0)
(95,29,0)
(110,64,0)
(42,127,0)
(57,132,0)
(131,59,0)
(91,110,0)
(82,87,0)
(49,23,0)
(45,53,0)
(70,45,0)
(42,83,0)
(77,76,0)
(122,106,0)
(134,51,0)
(76,64,0)
(37,13,0)
(8,59,0)
(101,83,0)
(64,114,0)
(64,65,0)
(53,114,0)
(88,63,0)
(51,114,0)
(50,132,0)
(126,42,0)
(72,19,0)
(14,18,0)
(1,27,0)
(27,64,0)
(122,132,0)
(94,105,0)
(51,68,0)
(79,28,0)
(13,6,0)
(131,132,0)
(64,110,0)
(87,18,0)
(66,31,0)
(123,122,0)
(71,42,0)
(10,42,0)
(5,32,0)
(12,134,0)
(105,114,0)
(64,76,0)
(128,18,0)
(116,114,0)
(13,19,0)
(118,59,0)
(36,19,0)
(103,87,0)
(41,100,0)
(108,98,0)
(7,84,0)
(53,18,0)
(44,28,0)
(82,64,0)
(53,45,0)
(75,132,0)
(59,131,0)
(132,48,0)
(22,132,0)
(82,93,0)
(54,101,0)
(93,82,0)
(42,120,0)
(100,31,0)
(98,19,0)
(56,129,0)
(6,60,0)
(42,46,0)
(84,132,0)
(76,18,0)
(42,4,0)
(102,19,0)
(80,128,0)
(96,64,0)
(101,54,0)
(55,76,0)
(115,131,0)
(104,59,0)
(39,56,0)
(117,90,0)
(61,56,0)
(64,90,0)
(25,27,0)
(24,19,0)
(62,68,0)
(23,54,0)
(32,19,0)
(48,132,0)
(96,18,0)
(85,131,0)
(63,32,0)
(50,0,0)
(64,82,0)
(17,138,0)
(40,50,0)
(119,64,0)
(28,42,0)
(21,13,0)
(135,101,0)
(64,128,0)
(64,27,0)
(75,19,0)
(42,18,0)
(57,19,0)
(130,18,0)
(64,96,0)
(38,26,0)
(64,120,0)
(139,19,0)
(84,18,0)
(65,18,0)
(134,18,0)
(68,51,0)
(90,64,0)
(137,68,0)
(16,96,0)
(125,75,0)
(136,32,0)
(109,57,0)
(74,42,0)
(35,98,0)
(31,54,0)
(26,18,0)
(20,64,0)
(81,64,0)
(31,129,0)
(28,132,0)
(69,134,0)
(18,42,0)
(13,56,0)
(90,18,0)
(64,76,1)
(53,45,1)
(76,55,1)
(58,7,1)
(2,29,1)
(27,25,1)
(39,61,1)
(95,53,1)
(124,14,1)
(28,79,1)
(64,82,1)
(71,126,1)
(109,138,1)
(109,6,1)
(117,73,1)
(134,18,1)
(88,48,1)
(90,18,1)
(64,65,1)
(32,136,1)
(41,66,1)
(22,32,1)
(42,4,1)
(130,67,1)
(75,132,1)
(13,56,1)
(125,48,1)
(110,112,1)
(6,121,1)
(26,38,1)
(111,51,1)
(33,103,1)
(51,68,1)
(105,94,1)
(50,40,1)
(96,16,1)
(47,110,1)
(57,132,1)
(86,128,1)
(136,5,1)
(20,3,1)
(132,122,1)
(100,41,1)
(17,2,1)
(68,62,1)
(70,9,1)
(135,52,1)
(35,57,1)
(37,98,1)
(21,63,1)
(17,50,1)
(101,83,1)
(38,64,1)
(131,115,1)
(110,18,1)
(13,6,1)
(126,74,1)
(1,20,1)
(80,92,1)
(84,18,1)
(90,117,1)
(66,23,1)
(54,101,1)
(12,69,1)
(42,120,1)
(103,96,1)
(77,27,1)
(23,54,1)
(42,46,1)
(68,132,1)
(63,32,1)
(122,106,1)
(69,18,1)
(42,83,1)
(87,18,1)
(53,18,1)
(18,42,1)
(96,18,1)
(44,71,1)
(52,75,1)
(55,77,1)
(42,127,1)
(79,44,1)
(67,111,1)
(98,108,1)
(65,11,1)
(101,132,1)
(128,18,1)
(131,132,1)
(64,90,1)
(119,86,1)
(64,120,1)
(94,130,1)
(13,37,1)
(82,87,1)
(49,54,1)
(133,17,1)
(108,35,1)
(98,132,1)
(75,125,1)
(7,105,1)
(81,84,1)
(122,123,1)
(27,132,1)
(42,28,1)
(65,18,1)
(64,128,1)
(9,59,1)
(118,104,1)
(31,100,1)
(112,91,1)
(128,80,1)
(59,131,1)
(101,15,1)
(82,93,1)
(91,119,1)
(16,47,1)
(92,76,1)
(28,132,1)
(31,54,1)
(109,56,1)
(23,49,1)
(121,34,1)
(10,124,1)
(74,10,1)
(40,2,1)
(123,22,1)
(11,89,1)
(137,134,1)
(63,88,1)
(62,137,1)
(89,82,1)
(61,31,1)
(104,26,1)
(64,96,1)
(8,118,1)
(134,12,1)
(13,138,1)
(43,95,1)
(76,18,1)
(115,85,1)
(3,81,1)
(57,109,1)
(130,18,1)
(64,27,1)
(29,43,1)
(84,58,1)
(138,133,1)
(21,13,1)
(34,18,1)
(84,132,1)
(14,23,1)
(15,135,1)
(45,70,1)
(73,65,1)
(48,132,1)
(64,110,1)
(85,8,1)
(56,39,1)
(25,1,1)
(26,18,1)
(87,33,1)
(50,132,1)
(9,26,1)
(31,100,2)
(62,18,2)
(64,120,2)
(43,18,2)
(69,18,2)
(119,18,2)
(112,18,2)
(131,132,2)
(52,48,2)
(18,42,2)
(125,48,2)
(26,18,2)
(42,4,2)
(79,23,2)
(68,18,2)
(86,18,2)
(88,48,2)
(11,18,2)
(20,18,2)
(2,18,2)
(84,132,2)
(137,18,2)
(64,82,2)
(27,132,2)
(28,132,2)
(23,54,2)
(39,23,2)
(63,48,2)
(14,23,2)
(66,23,2)
(17,18,2)
(15,48,2)
(59,131,2)
(81,18,2)
(134,18,2)
(48,132,2)
(74,23,2)
(51,68,2)
(45,18,2)
(131,26,2)
(68,132,2)
(85,26,2)
(64,110,2)
(118,26,2)
(87,18,2)
(59,26,2)
(33,18,2)
(126,23,2)
(25,18,2)
(9,18,2)
(65,18,2)
(98,132,2)
(75,48,2)
(21,13,2)
(104,26,2)
(76,18,2)
(128,18,2)
(57,132,2)
(27,18,2)
(96,18,2)
(71,23,2)
(47,18,2)
(117,18,2)
(12,18,2)
(70,18,2)
(3,18,2)
(53,45,2)
(13,138,2)
(111,18,2)
(18,23,2)
(91,18,2)
(44,23,2)
(64,96,2)
(51,18,2)
(37,48,2)
(82,18,2)
(42,46,2)
(13,6,2)
(41,23,2)
(101,132,2)
(84,18,2)
(124,23,2)
(16,18,2)
(64,18,2)
(64,128,2)
(132,122,2)
(54,101,2)
(54,48,2)
(8,26,2)
(101,48,2)
(31,54,2)
(23,48,2)
(98,48,2)
(82,93,2)
(115,26,2)
(7,18,2)
(94,18,2)
(133,18,2)
(1,18,2)
(28,23,2)
(80,18,2)
(77,18,2)
(50,132,2)
(64,90,2)
(61,23,2)
(103,18,2)
(42,28,2)
(42,120,2)
(42,127,2)
(10,23,2)
(57,48,2)
(58,18,2)
(53,18,2)
(92,18,2)
(50,2,2)
(31,23,2)
(109,48,2)
(42,23,2)
(101,83,2)
(42,83,2)
(75,132,2)
(38,18,2)
(63,32,2)
(64,27,2)
(100,23,2)
(64,65,2)
(6,18,2)
(95,18,2)
(121,18,2)
(89,18,2)
(64,76,2)
(21,63,2)
(90,18,2)
(105,18,2)
(13,56,2)
(35,48,2)
(110,18,2)
(122,106,2)
(56,23,2)
(49,48,2)
(130,18,2)
(82,87,2)
(34,18,2)
(135,48,2)
(108,48,2)
(138,18,2)
(29,18,2)
(73,18,2)
(55,18,2)
(40,2,2)
(67,18,2)
(13,48,2)
-----------------------------------
(0,)
(1,q)
(2,dump)
(3,"QueueMemberAdded")
(4,int penalty)
(5,res)
(6,res = RES_OUTOFMEMORY)
(7,q)
(8,"Queue:%s_avail")
(9,new_member)
(10,membername)
(11,status)
(12,ringinuse)
(13,return res;)
(14,new_member)
(15,interface)
(16,calls)
(17,res)
(18,new_member = create_queue_member(interface, membername, penalty, paused, state_interface, q->ringinuse)
(19,)
(20,"Queue: %s\\r\\n"\n\\n\\t\\t\\t\\t"Location: %s\\r\\n"\n\\n\\t\\t\\t\\t"MemberName: %s\\r\\n"\n\\n\\t\\t\\t\\t"StateInterface: %s\\r\\n"\n\\n\\t\\t\\t\\t"Membership: %s\\r\\n"\n\\n\\t\\t\\t\\t"Penalty: %d\\r\\n"\n\\n\\t\\t\\t\\t"CallsTaken: %d\\r\\n"\n\\n\\t\\t\\t\\t"LastCall: %d\\r\\n"\n\\n\\t\\t\\t\\t"Status: %d\\r\\n"\n\\n\\t\\t\\t\\t"Paused: %d\\r\\n")
(21,RET)
(22,q)
(23,(old_member = interface_exists(q, interface)
(24,res)
(25,name)
(26,is_member_available(new_member)
(27,q->name)
(28,q->ringinuse)
(29,new_member = NULL)
(30,if ((old_member = interface_exists(q, interface)
(31,ao2_ref(old_member, -1)
(32,res = RES_NOSUCHQUEUE)
(33,lastcall)
(34,res)
(35,q)
(36,new_member)
(37,res)
(38,new_member)
(39,RES_EXISTS)
(40,q)
(41,1)
(42,create_queue_member(interface, membername, penalty, paused, state_interface, q->ringinuse)
(43,NULL)
(44,q)
(45,-1)
(46,int paused)
(47,new_member)
(48,!(q = find_load_queue_rt_friendly(queuename)
(49,NULL)
(50,dump_queue_members(q)
(51,new_member->ringinuse = q->ringinuse)
(52,old_member)
(53,ao2_ref(new_member, -1)
(54,old_member = interface_exists(q, interface)
(55,interface)
(56,res = RES_EXISTS)
(57,ao2_unlock(q)
(58,new_member)
(59,ast_devstate_changed(AST_DEVICE_NOT_INUSE, AST_DEVSTATE_CACHABLE, "Queue:%s_avail", q->name)
(60,)
(61,res)
(62,ringinuse)
(63,return res;)
(64,manager_event(EVENT_FLAG_AGENT, "QueueMemberAdded",\n\\n\\t\\t\\t\\t"Queue: %s\\r\\n"\n\\n\\t\\t\\t\\t"Location: %s\\r\\n"\n\\n\\t\\t\\t\\t"MemberName: %s\\r\\n"\n\\n\\t\\t\\t\\t"StateInterface: %s\\r\\n"\n\\n\\t\\t\\t\\t"Membership: %s\\r\\n"\n\\n\\t\\t\\t\\t"Penalty: %d\\r\\n"\n\\n\\t\\t\\t\\t"CallsTaken: %d\\r\\n"\n\\n\\t\\t\\t\\t"LastCall: %d\\r\\n"\n\\n\\t\\t\\t\\t"Status: %d\\r\\n"\n\\n\\t\\t\\t\\t"Paused: %d\\r\\n",\n\\n\\t\\t\\t\\tq->name, new_member->interface, new_member->membername, state_interface,\n\\n\\t\\t\\t\\t"dynamic",\n\\n\\t\\t\\t\\tnew_member->penalty, new_member->calls, (int)
(65,new_member->status)
(66,old_member)
(67,dynamic)
(68,q->ringinuse)
(69,new_member)
(70,1)
(71,state_interface)
(72,old_member)
(73,new_member)
(74,penalty)
(75,ao2_lock(q)
(76,new_member->interface)
(77,new_member)
(78,)
(79,ringinuse)
(80,membername)
(81,EVENT_FLAG_AGENT)
(82,(int)
(83,const char *interface)
(84,member_add_to_queue(q, new_member)
(85,q)
(86,state_interface)
(87,new_member->lastcall)
(88,res)
(89,new_member)
(90,new_member->paused)
(91,new_member)
(92,new_member)
(93,int)
(94,1)
(95,new_member)
(96,new_member->calls)
(97,if (is_member_available(new_member)
(98,queue_t_unref(q, "Expiring temporary reference")
(99,if ((new_member = create_queue_member(interface, membername, penalty, paused, state_interface, q->ringinuse)
(100,-1)
(101,interface_exists(q, interface)
(102,q)
(103,new_member)
(104,AST_DEVICE_NOT_INUSE)
(105,new_member->dynamic = 1)
(106,const char *queuename)
(107,)
(108,"Expiring temporary reference")
(109,q)
(110,new_member->penalty)
(111,new_member)
(112,penalty)
(113,)
(114,)
(115,name)
(116,if (dump)
(117,paused)
(118,AST_DEVSTATE_CACHABLE)
(119,"dynamic")
(120,const char *state_interface)
(121,RES_OUTOFMEMORY)
(122,find_load_queue_rt_friendly(queuename)
(123,queuename)
(124,interface)
(125,q)
(126,paused)
(127,const char *membername)
(128,new_member->membername)
(129,)
(130,new_member->dynamic)
(131,q->name)
(132,q = find_load_queue_rt_friendly(queuename)
(133,RES_OKAY)
(134,new_member->ringinuse)
(135,q)
(136,RES_NOSUCHQUEUE)
(137,q)
(138,res = RES_OKAY)
(139,if (!(q = find_load_queue_rt_friendly(queuename)
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^