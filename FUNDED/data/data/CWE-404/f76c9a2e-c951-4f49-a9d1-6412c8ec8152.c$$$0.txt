-----label-----
0
-----code-----
static int of_dra7_atl_clk_probe(struct platform_device *pdev)
{
	struct device_node *node = pdev->dev.of_node;
	struct dra7_atl_clock_info *cinfo;
	int i;
	int ret = 0;

	if (!node)
		return -ENODEV;

	cinfo = devm_kzalloc(&pdev->dev, sizeof(*cinfo), GFP_KERNEL);
	if (!cinfo)
		return -ENOMEM;

	cinfo->iobase = of_iomap(node, 0);
	cinfo->dev = &pdev->dev;
	pm_runtime_enable(cinfo->dev);
	pm_runtime_irq_safe(cinfo->dev);

	pm_runtime_get_sync(cinfo->dev);
	atl_write(cinfo, DRA7_ATL_PCLKMUX_REG(0), DRA7_ATL_PCLKMUX);

	for (i = 0; i < DRA7_ATL_INSTANCES; i++) {
		struct device_node *cfg_node;
		char prop[5];
		struct dra7_atl_desc *cdesc;
		struct of_phandle_args clkspec;
		struct clk *clk;
		int rc;

		rc = of_parse_phandle_with_args(node, "ti,provided-clocks",
						NULL, i, &clkspec);

		if (rc) {
			pr_err("%s: failed to lookup atl clock %d\n", __func__,
			       i);
			return -EINVAL;
		}

		clk = of_clk_get_from_provider(&clkspec);

		cdesc = to_atl_desc(__clk_get_hw(clk));
		cdesc->cinfo = cinfo;
		cdesc->id = i;

		/* Get configuration for the ATL instances */
		snprintf(prop, sizeof(prop), "atl%u", i);
		cfg_node = of_get_child_by_name(node, prop);
		if (cfg_node) {
			ret = of_property_read_u32(cfg_node, "bws",
						   &cdesc->bws);
			ret |= of_property_read_u32(cfg_node, "aws",
						    &cdesc->aws);
			if (!ret) {
				cdesc->valid = true;
				atl_write(cinfo, DRA7_ATL_BWSMUX_REG(i),
					  cdesc->bws);
				atl_write(cinfo, DRA7_ATL_AWSMUX_REG(i),
					  cdesc->aws);
			}
			of_node_put(cfg_node);
		}

		cdesc->probed = true;
		/*
		 * Enable the clock if it has been asked prior to loading the
		 * hw driver
		 */
		if (cdesc->enabled)
			atl_clk_enable(__clk_get_hw(clk));
	}
	pm_runtime_put_sync(cinfo->dev);

	return ret;
}
-----children-----
1,2
1,3
1,4
3,4
3,5
5,6
5,7
6,7
8,9
8,10
11,12
11,13
11,14
11,15
11,16
11,17
11,18
11,19
11,20
11,21
11,22
11,23
11,24
11,25
11,26
11,27
12,13
13,14
13,15
14,15
16,17
16,18
16,19
19,20
20,21
20,22
21,22
21,23
22,23
26,27
27,28
27,29
28,29
30,31
30,32
33,34
34,35
34,36
36,37
38,39
39,40
39,41
41,42
41,43
43,44
45,46
45,47
46,47
47,48
49,50
50,51
51,52
53,54
54,55
54,56
55,56
57,58
57,59
57,60
57,61
58,59
60,61
61,62
61,63
62,63
65,66
66,67
67,68
68,69
70,71
72,73
72,74
73,74
74,75
76,77
77,78
78,79
80,81
81,82
81,83
82,83
82,84
83,84
86,87
86,88
86,89
87,88
89,90
92,93
93,94
93,95
94,95
94,96
95,96
98,99
99,100
99,101
100,101
103,104
104,105
104,106
105,106
107,108
107,109
108,109
111,112
112,113
112,114
113,114
115,116
115,117
116,117
119,120
120,121
120,122
121,122
123,124
123,125
124,125
127,128
128,129
128,130
128,131
128,132
129,130
131,132
133,134
133,135
134,135
137,138
139,140
139,141
139,142
139,143
140,141
141,142
141,143
142,143
145,146
145,147
146,147
148,149
150,151
151,152
153,154
153,155
153,156
153,157
153,158
153,159
153,160
153,161
153,162
153,163
153,164
153,165
153,166
153,167
153,168
153,169
153,170
154,155
155,156
155,157
156,157
158,159
158,160
161,162
162,163
162,164
164,165
164,166
166,167
168,169
169,170
169,171
170,171
172,173
172,174
175,176
176,177
176,178
177,178
179,180
181,182
182,183
182,184
183,184
185,186
185,187
188,189
189,190
189,191
191,192
193,194
194,195
194,196
195,196
197,198
197,199
197,200
197,201
197,202
197,203
198,199
200,201
203,204
205,206
207,208
208,209
210,211
210,212
211,212
213,214
213,215
214,215
215,216
215,217
215,218
215,219
216,217
219,220
221,222
223,224
224,225
225,226
227,228
228,229
228,230
229,230
231,232
231,233
232,233
234,235
235,236
237,238
238,239
238,240
239,240
241,242
241,243
242,243
244,245
244,246
245,246
247,248
249,250
250,251
250,252
251,252
251,253
252,253
255,256
257,258
258,259
258,260
259,260
259,261
260,261
263,264
265,266
266,267
266,268
266,269
266,270
266,271
267,268
269,270
271,272
272,273
273,274
276,277
278,279
279,280
279,281
280,281
282,283
282,284
282,285
283,284
285,286
287,288
289,290
289,291
290,291
292,293
292,294
292,295
292,296
293,294
294,295
294,296
295,296
297,298
297,299
297,300
297,301
298,299
300,301
303,304
304,305
304,306
305,306
308,309
309,310
309,311
310,311
312,313
312,314
312,315
312,316
313,314
315,316
318,319
319,320
319,321
320,321
323,324
323,325
324,325
325,326
327,328
327,329
327,330
328,329
329,330
329,331
330,331
330,332
331,332
335,336
336,337
336,338
336,339
336,340
337,338
339,340
341,342
341,343
342,343
344,345
346,347
346,348
347,348
350,351
351,352
351,353
351,354
351,355
352,353
354,355
356,357
356,358
357,358
359,360
361,362
361,363
362,363
365,366
366,367
366,368
367,368
369,370
371,372
372,373
372,374
373,374
373,375
374,375
378,379
378,380
379,380
379,381
380,381
383,384
384,385
384,386
385,386
387,388
387,389
388,389
390,391
392,393
393,394
393,395
394,395
396,397
396,398
397,398
400,401
401,402
-----nextToken-----
2,4,7,9,10,15,17,18,23,24,25,29,31,32,35,37,40,42,44,48,52,56,59,63,64,69,71,75,79,84,85,88,90,91,96,97,101,102,106,109,110,114,117,118,122,125,126,130,132,135,136,138,143,144,147,149,152,157,159,160,163,165,167,171,173,174,178,180,184,186,187,190,192,196,199,201,202,204,206,209,212,217,218,220,222,226,230,233,236,240,243,246,248,253,254,256,261,262,264,268,270,274,275,277,281,284,286,288,291,296,299,301,302,306,307,311,314,316,317,321,322,326,332,333,334,338,340,343,345,348,349,353,355,358,360,363,364,368,370,375,376,377,381,382,386,389,391,395,398,399,402
-----computeFrom-----
54,55
54,56
81,82
81,83
93,94
93,95
141,142
141,143
145,146
145,147
194,195
194,196
228,229
228,230
238,239
238,240
250,251
250,252
258,259
258,260
279,280
279,281
294,295
294,296
309,310
309,311
329,330
329,331
372,373
372,374
-----guardedBy-----
-----guardedByNegation-----
-----lastLexicalUse-----
-----jump-----
-----attribute-----
FunctionDefinition;SimpleDeclSpecifier;FunctionDeclarator;Name;ParameterDeclaration;ElaboratedTypeSpecifier;Name;Declarator;Pointer;Name;CompoundStatement;DeclarationStatement;SimpleDeclaration;ElaboratedTypeSpecifier;Name;Declarator;Pointer;Name;EqualsInitializer;FieldReference;FieldReference;IdExpression;Name;Name;Name;DeclarationStatement;SimpleDeclaration;ElaboratedTypeSpecifier;Name;Declarator;Pointer;Name;DeclarationStatement;SimpleDeclaration;SimpleDeclSpecifier;Declarator;Name;DeclarationStatement;SimpleDeclaration;SimpleDeclSpecifier;Declarator;Name;EqualsInitializer;LiteralExpression;IfStatement;UnaryExpression;IdExpression;Name;ReturnStatement;UnaryExpression;IdExpression;Name;ExpressionStatement;BinaryExpression;IdExpression;Name;FunctionCallExpression;IdExpression;Name;UnaryExpression;FieldReference;IdExpression;Name;Name;UnaryExpression;UnaryExpression;UnaryExpression;IdExpression;Name;IdExpression;Name;IfStatement;UnaryExpression;IdExpression;Name;ReturnStatement;UnaryExpression;IdExpression;Name;ExpressionStatement;BinaryExpression;FieldReference;IdExpression;Name;Name;FunctionCallExpression;IdExpression;Name;IdExpression;Name;LiteralExpression;ExpressionStatement;BinaryExpression;FieldReference;IdExpression;Name;Name;UnaryExpression;FieldReference;IdExpression;Name;Name;ExpressionStatement;FunctionCallExpression;IdExpression;Name;FieldReference;IdExpression;Name;Name;ExpressionStatement;FunctionCallExpression;IdExpression;Name;FieldReference;IdExpression;Name;Name;ExpressionStatement;FunctionCallExpression;IdExpression;Name;FieldReference;IdExpression;Name;Name;ExpressionStatement;FunctionCallExpression;IdExpression;Name;IdExpression;Name;FunctionCallExpression;IdExpression;Name;LiteralExpression;IdExpression;Name;ForStatement;ExpressionStatement;BinaryExpression;IdExpression;Name;LiteralExpression;BinaryExpression;IdExpression;Name;IdExpression;Name;UnaryExpression;IdExpression;Name;CompoundStatement;DeclarationStatement;SimpleDeclaration;ElaboratedTypeSpecifier;Name;Declarator;Pointer;Name;DeclarationStatement;SimpleDeclaration;SimpleDeclSpecifier;ArrayDeclarator;Name;ArrayModifier;LiteralExpression;DeclarationStatement;SimpleDeclaration;ElaboratedTypeSpecifier;Name;Declarator;Pointer;Name;DeclarationStatement;SimpleDeclaration;ElaboratedTypeSpecifier;Name;Declarator;Name;DeclarationStatement;SimpleDeclaration;ElaboratedTypeSpecifier;Name;Declarator;Pointer;Name;DeclarationStatement;SimpleDeclaration;SimpleDeclSpecifier;Declarator;Name;ExpressionStatement;BinaryExpression;IdExpression;Name;FunctionCallExpression;IdExpression;Name;IdExpression;Name;LiteralExpression;IdExpression;Name;IdExpression;Name;UnaryExpression;IdExpression;Name;IfStatement;IdExpression;Name;CompoundStatement;ExpressionStatement;FunctionCallExpression;IdExpression;Name;LiteralExpression;IdExpression;Name;IdExpression;Name;ReturnStatement;UnaryExpression;IdExpression;Name;ExpressionStatement;BinaryExpression;IdExpression;Name;FunctionCallExpression;IdExpression;Name;UnaryExpression;IdExpression;Name;ExpressionStatement;BinaryExpression;IdExpression;Name;FunctionCallExpression;IdExpression;Name;FunctionCallExpression;IdExpression;Name;IdExpression;Name;ExpressionStatement;BinaryExpression;FieldReference;IdExpression;Name;Name;IdExpression;Name;ExpressionStatement;BinaryExpression;FieldReference;IdExpression;Name;Name;IdExpression;Name;ExpressionStatement;FunctionCallExpression;IdExpression;Name;IdExpression;Name;UnaryExpression;UnaryExpression;IdExpression;Name;LiteralExpression;IdExpression;Name;ExpressionStatement;BinaryExpression;IdExpression;Name;FunctionCallExpression;IdExpression;Name;IdExpression;Name;IdExpression;Name;IfStatement;IdExpression;Name;CompoundStatement;ExpressionStatement;BinaryExpression;IdExpression;Name;FunctionCallExpression;IdExpression;Name;IdExpression;Name;LiteralExpression;UnaryExpression;FieldReference;IdExpression;Name;Name;ExpressionStatement;BinaryExpression;IdExpression;Name;FunctionCallExpression;IdExpression;Name;IdExpression;Name;LiteralExpression;UnaryExpression;FieldReference;IdExpression;Name;Name;IfStatement;UnaryExpression;IdExpression;Name;CompoundStatement;ExpressionStatement;BinaryExpression;FieldReference;IdExpression;Name;Name;LiteralExpression;ExpressionStatement;FunctionCallExpression;IdExpression;Name;IdExpression;Name;FunctionCallExpression;IdExpression;Name;IdExpression;Name;FieldReference;IdExpression;Name;Name;ExpressionStatement;FunctionCallExpression;IdExpression;Name;IdExpression;Name;FunctionCallExpression;IdExpression;Name;IdExpression;Name;FieldReference;IdExpression;Name;Name;ExpressionStatement;FunctionCallExpression;IdExpression;Name;IdExpression;Name;ExpressionStatement;BinaryExpression;FieldReference;IdExpression;Name;Name;LiteralExpression;IfStatement;FieldReference;IdExpression;Name;Name;ExpressionStatement;FunctionCallExpression;IdExpression;Name;FunctionCallExpression;IdExpression;Name;IdExpression;Name;ExpressionStatement;FunctionCallExpression;IdExpression;Name;FieldReference;IdExpression;Name;Name;ReturnStatement;IdExpression;Name;
-----ast_node-----
static int of_dra7_atl_clk_probe(struct platform_device *pdev){	struct device_node *node = pdev->dev.of_node;	struct dra7_atl_clock_info *cinfo;	int i;	int ret = 0;	if (!node)		return -ENODEV;	cinfo = devm_kzalloc(&pdev->dev, sizeof(*cinfo), GFP_KERNEL);	if (!cinfo)		return -ENOMEM;	cinfo->iobase = of_iomap(node, 0);	cinfo->dev = &pdev->dev;	pm_runtime_enable(cinfo->dev);	pm_runtime_irq_safe(cinfo->dev);	pm_runtime_get_sync(cinfo->dev);	atl_write(cinfo, DRA7_ATL_PCLKMUX_REG(0), DRA7_ATL_PCLKMUX);	for (i = 0; i < DRA7_ATL_INSTANCES; i++) {		struct device_node *cfg_node;		char prop[5];		struct dra7_atl_desc *cdesc;		struct of_phandle_args clkspec;		struct clk *clk;		int rc;		rc = of_parse_phandle_with_args(node, "ti,provided-clocks",						NULL, i, &clkspec);		if (rc) {			pr_err("%s: failed to lookup atl clock %d\n", __func__,			       i);			return -EINVAL;		}		clk = of_clk_get_from_provider(&clkspec);		cdesc = to_atl_desc(__clk_get_hw(clk));		cdesc->cinfo = cinfo;		cdesc->id = i;		/* Get configuration for the ATL instances */		snprintf(prop, sizeof(prop), "atl%u", i);		cfg_node = of_get_child_by_name(node, prop);		if (cfg_node) {			ret = of_property_read_u32(cfg_node, "bws",						   &cdesc->bws);			ret |= of_property_read_u32(cfg_node, "aws",						    &cdesc->aws);			if (!ret) {				cdesc->valid = true;				atl_write(cinfo, DRA7_ATL_BWSMUX_REG(i),					  cdesc->bws);				atl_write(cinfo, DRA7_ATL_AWSMUX_REG(i),					  cdesc->aws);			}			of_node_put(cfg_node);		}		cdesc->probed = true;		/*		 * Enable the clock if it has been asked prior to loading the		 * hw driver		 */		if (cdesc->enabled)			atl_clk_enable(__clk_get_hw(clk));	}	pm_runtime_put_sync(cinfo->dev);	return ret;}
static int
of_dra7_atl_clk_probe(struct platform_device *pdev)
of_dra7_atl_clk_probe
struct platform_device *pdev
struct platform_device
platform_device
*pdev
*
pdev
{	struct device_node *node = pdev->dev.of_node;	struct dra7_atl_clock_info *cinfo;	int i;	int ret = 0;	if (!node)		return -ENODEV;	cinfo = devm_kzalloc(&pdev->dev, sizeof(*cinfo), GFP_KERNEL);	if (!cinfo)		return -ENOMEM;	cinfo->iobase = of_iomap(node, 0);	cinfo->dev = &pdev->dev;	pm_runtime_enable(cinfo->dev);	pm_runtime_irq_safe(cinfo->dev);	pm_runtime_get_sync(cinfo->dev);	atl_write(cinfo, DRA7_ATL_PCLKMUX_REG(0), DRA7_ATL_PCLKMUX);	for (i = 0; i < DRA7_ATL_INSTANCES; i++) {		struct device_node *cfg_node;		char prop[5];		struct dra7_atl_desc *cdesc;		struct of_phandle_args clkspec;		struct clk *clk;		int rc;		rc = of_parse_phandle_with_args(node, "ti,provided-clocks",						NULL, i, &clkspec);		if (rc) {			pr_err("%s: failed to lookup atl clock %d\n", __func__,			       i);			return -EINVAL;		}		clk = of_clk_get_from_provider(&clkspec);		cdesc = to_atl_desc(__clk_get_hw(clk));		cdesc->cinfo = cinfo;		cdesc->id = i;		/* Get configuration for the ATL instances */		snprintf(prop, sizeof(prop), "atl%u", i);		cfg_node = of_get_child_by_name(node, prop);		if (cfg_node) {			ret = of_property_read_u32(cfg_node, "bws",						   &cdesc->bws);			ret |= of_property_read_u32(cfg_node, "aws",						    &cdesc->aws);			if (!ret) {				cdesc->valid = true;				atl_write(cinfo, DRA7_ATL_BWSMUX_REG(i),					  cdesc->bws);				atl_write(cinfo, DRA7_ATL_AWSMUX_REG(i),					  cdesc->aws);			}			of_node_put(cfg_node);		}		cdesc->probed = true;		/*		 * Enable the clock if it has been asked prior to loading the		 * hw driver		 */		if (cdesc->enabled)			atl_clk_enable(__clk_get_hw(clk));	}	pm_runtime_put_sync(cinfo->dev);	return ret;}
struct device_node *node = pdev->dev.of_node;
struct device_node *node = pdev->dev.of_node;
struct device_node
device_node
*node = pdev->dev.of_node
*
node
= pdev->dev.of_node
pdev->dev.of_node
pdev->dev
pdev
pdev
dev
of_node
struct dra7_atl_clock_info *cinfo;
struct dra7_atl_clock_info *cinfo;
struct dra7_atl_clock_info
dra7_atl_clock_info
*cinfo
*
cinfo
int i;
int i;
int
i
i
int ret = 0;
int ret = 0;
int
ret = 0
ret
= 0
0
if (!node)		return -ENODEV;
!node
node
node
return -ENODEV;
-ENODEV
ENODEV
ENODEV
cinfo = devm_kzalloc(&pdev->dev, sizeof(*cinfo), GFP_KERNEL);
cinfo = devm_kzalloc(&pdev->dev, sizeof(*cinfo), GFP_KERNEL)
cinfo
cinfo
devm_kzalloc(&pdev->dev, sizeof(*cinfo), GFP_KERNEL)
devm_kzalloc
devm_kzalloc
&pdev->dev
pdev->dev
pdev
pdev
dev
sizeof(*cinfo)
(*cinfo)
*cinfo
cinfo
cinfo
GFP_KERNEL
GFP_KERNEL
if (!cinfo)		return -ENOMEM;
!cinfo
cinfo
cinfo
return -ENOMEM;
-ENOMEM
ENOMEM
ENOMEM
cinfo->iobase = of_iomap(node, 0);
cinfo->iobase = of_iomap(node, 0)
cinfo->iobase
cinfo
cinfo
iobase
of_iomap(node, 0)
of_iomap
of_iomap
node
node
0
cinfo->dev = &pdev->dev;
cinfo->dev = &pdev->dev
cinfo->dev
cinfo
cinfo
dev
&pdev->dev
pdev->dev
pdev
pdev
dev
pm_runtime_enable(cinfo->dev);
pm_runtime_enable(cinfo->dev)
pm_runtime_enable
pm_runtime_enable
cinfo->dev
cinfo
cinfo
dev
pm_runtime_irq_safe(cinfo->dev);
pm_runtime_irq_safe(cinfo->dev)
pm_runtime_irq_safe
pm_runtime_irq_safe
cinfo->dev
cinfo
cinfo
dev
pm_runtime_get_sync(cinfo->dev);
pm_runtime_get_sync(cinfo->dev)
pm_runtime_get_sync
pm_runtime_get_sync
cinfo->dev
cinfo
cinfo
dev
atl_write(cinfo, DRA7_ATL_PCLKMUX_REG(0), DRA7_ATL_PCLKMUX);
atl_write(cinfo, DRA7_ATL_PCLKMUX_REG(0), DRA7_ATL_PCLKMUX)
atl_write
atl_write
cinfo
cinfo
DRA7_ATL_PCLKMUX_REG(0)
DRA7_ATL_PCLKMUX_REG
DRA7_ATL_PCLKMUX_REG
0
DRA7_ATL_PCLKMUX
DRA7_ATL_PCLKMUX
for (i = 0; i < DRA7_ATL_INSTANCES; i++) {		struct device_node *cfg_node;		char prop[5];		struct dra7_atl_desc *cdesc;		struct of_phandle_args clkspec;		struct clk *clk;		int rc;		rc = of_parse_phandle_with_args(node, "ti,provided-clocks",						NULL, i, &clkspec);		if (rc) {			pr_err("%s: failed to lookup atl clock %d\n", __func__,			       i);			return -EINVAL;		}		clk = of_clk_get_from_provider(&clkspec);		cdesc = to_atl_desc(__clk_get_hw(clk));		cdesc->cinfo = cinfo;		cdesc->id = i;		/* Get configuration for the ATL instances */		snprintf(prop, sizeof(prop), "atl%u", i);		cfg_node = of_get_child_by_name(node, prop);		if (cfg_node) {			ret = of_property_read_u32(cfg_node, "bws",						   &cdesc->bws);			ret |= of_property_read_u32(cfg_node, "aws",						    &cdesc->aws);			if (!ret) {				cdesc->valid = true;				atl_write(cinfo, DRA7_ATL_BWSMUX_REG(i),					  cdesc->bws);				atl_write(cinfo, DRA7_ATL_AWSMUX_REG(i),					  cdesc->aws);			}			of_node_put(cfg_node);		}		cdesc->probed = true;		/*		 * Enable the clock if it has been asked prior to loading the		 * hw driver		 */		if (cdesc->enabled)			atl_clk_enable(__clk_get_hw(clk));	}
i = 0;
i = 0
i
i
0
i < DRA7_ATL_INSTANCES
i
i
DRA7_ATL_INSTANCES
DRA7_ATL_INSTANCES
i++
i
i
{		struct device_node *cfg_node;		char prop[5];		struct dra7_atl_desc *cdesc;		struct of_phandle_args clkspec;		struct clk *clk;		int rc;		rc = of_parse_phandle_with_args(node, "ti,provided-clocks",						NULL, i, &clkspec);		if (rc) {			pr_err("%s: failed to lookup atl clock %d\n", __func__,			       i);			return -EINVAL;		}		clk = of_clk_get_from_provider(&clkspec);		cdesc = to_atl_desc(__clk_get_hw(clk));		cdesc->cinfo = cinfo;		cdesc->id = i;		/* Get configuration for the ATL instances */		snprintf(prop, sizeof(prop), "atl%u", i);		cfg_node = of_get_child_by_name(node, prop);		if (cfg_node) {			ret = of_property_read_u32(cfg_node, "bws",						   &cdesc->bws);			ret |= of_property_read_u32(cfg_node, "aws",						    &cdesc->aws);			if (!ret) {				cdesc->valid = true;				atl_write(cinfo, DRA7_ATL_BWSMUX_REG(i),					  cdesc->bws);				atl_write(cinfo, DRA7_ATL_AWSMUX_REG(i),					  cdesc->aws);			}			of_node_put(cfg_node);		}		cdesc->probed = true;		/*		 * Enable the clock if it has been asked prior to loading the		 * hw driver		 */		if (cdesc->enabled)			atl_clk_enable(__clk_get_hw(clk));	}
struct device_node *cfg_node;
struct device_node *cfg_node;
struct device_node
device_node
*cfg_node
*
cfg_node
char prop[5];
char prop[5];
char
prop[5]
prop
[5]
5
struct dra7_atl_desc *cdesc;
struct dra7_atl_desc *cdesc;
struct dra7_atl_desc
dra7_atl_desc
*cdesc
*
cdesc
struct of_phandle_args clkspec;
struct of_phandle_args clkspec;
struct of_phandle_args
of_phandle_args
clkspec
clkspec
struct clk *clk;
struct clk *clk;
struct clk
clk
*clk
*
clk
int rc;
int rc;
int
rc
rc
rc = of_parse_phandle_with_args(node, "ti,provided-clocks",						NULL, i, &clkspec);
rc = of_parse_phandle_with_args(node, "ti,provided-clocks",						NULL, i, &clkspec)
rc
rc
of_parse_phandle_with_args(node, "ti,provided-clocks",						NULL, i, &clkspec)
of_parse_phandle_with_args
of_parse_phandle_with_args
node
node
"ti,provided-clocks"
NULL
NULL
i
i
&clkspec
clkspec
clkspec
if (rc) {			pr_err("%s: failed to lookup atl clock %d\n", __func__,			       i);			return -EINVAL;		}
rc
rc
{			pr_err("%s: failed to lookup atl clock %d\n", __func__,			       i);			return -EINVAL;		}
pr_err("%s: failed to lookup atl clock %d\n", __func__,			       i);
pr_err("%s: failed to lookup atl clock %d\n", __func__,			       i)
pr_err
pr_err
"%s: failed to lookup atl clock %d\n"
__func__
__func__
i
i
return -EINVAL;
-EINVAL
EINVAL
EINVAL
clk = of_clk_get_from_provider(&clkspec);
clk = of_clk_get_from_provider(&clkspec)
clk
clk
of_clk_get_from_provider(&clkspec)
of_clk_get_from_provider
of_clk_get_from_provider
&clkspec
clkspec
clkspec
cdesc = to_atl_desc(__clk_get_hw(clk));
cdesc = to_atl_desc(__clk_get_hw(clk))
cdesc
cdesc
to_atl_desc(__clk_get_hw(clk))
to_atl_desc
to_atl_desc
__clk_get_hw(clk)
__clk_get_hw
__clk_get_hw
clk
clk
cdesc->cinfo = cinfo;
cdesc->cinfo = cinfo
cdesc->cinfo
cdesc
cdesc
cinfo
cinfo
cinfo
cdesc->id = i;
cdesc->id = i
cdesc->id
cdesc
cdesc
id
i
i
snprintf(prop, sizeof(prop), "atl%u", i);
snprintf(prop, sizeof(prop), "atl%u", i)
snprintf
snprintf
prop
prop
sizeof(prop)
(prop)
prop
prop
"atl%u"
i
i
cfg_node = of_get_child_by_name(node, prop);
cfg_node = of_get_child_by_name(node, prop)
cfg_node
cfg_node
of_get_child_by_name(node, prop)
of_get_child_by_name
of_get_child_by_name
node
node
prop
prop
if (cfg_node) {			ret = of_property_read_u32(cfg_node, "bws",						   &cdesc->bws);			ret |= of_property_read_u32(cfg_node, "aws",						    &cdesc->aws);			if (!ret) {				cdesc->valid = true;				atl_write(cinfo, DRA7_ATL_BWSMUX_REG(i),					  cdesc->bws);				atl_write(cinfo, DRA7_ATL_AWSMUX_REG(i),					  cdesc->aws);			}			of_node_put(cfg_node);		}
cfg_node
cfg_node
{			ret = of_property_read_u32(cfg_node, "bws",						   &cdesc->bws);			ret |= of_property_read_u32(cfg_node, "aws",						    &cdesc->aws);			if (!ret) {				cdesc->valid = true;				atl_write(cinfo, DRA7_ATL_BWSMUX_REG(i),					  cdesc->bws);				atl_write(cinfo, DRA7_ATL_AWSMUX_REG(i),					  cdesc->aws);			}			of_node_put(cfg_node);		}
ret = of_property_read_u32(cfg_node, "bws",						   &cdesc->bws);
ret = of_property_read_u32(cfg_node, "bws",						   &cdesc->bws)
ret
ret
of_property_read_u32(cfg_node, "bws",						   &cdesc->bws)
of_property_read_u32
of_property_read_u32
cfg_node
cfg_node
"bws"
&cdesc->bws
cdesc->bws
cdesc
cdesc
bws
ret |= of_property_read_u32(cfg_node, "aws",						    &cdesc->aws);
ret |= of_property_read_u32(cfg_node, "aws",						    &cdesc->aws)
ret
ret
of_property_read_u32(cfg_node, "aws",						    &cdesc->aws)
of_property_read_u32
of_property_read_u32
cfg_node
cfg_node
"aws"
&cdesc->aws
cdesc->aws
cdesc
cdesc
aws
if (!ret) {				cdesc->valid = true;				atl_write(cinfo, DRA7_ATL_BWSMUX_REG(i),					  cdesc->bws);				atl_write(cinfo, DRA7_ATL_AWSMUX_REG(i),					  cdesc->aws);			}
!ret
ret
ret
{				cdesc->valid = true;				atl_write(cinfo, DRA7_ATL_BWSMUX_REG(i),					  cdesc->bws);				atl_write(cinfo, DRA7_ATL_AWSMUX_REG(i),					  cdesc->aws);			}
cdesc->valid = true;
cdesc->valid = true
cdesc->valid
cdesc
cdesc
valid
true
atl_write(cinfo, DRA7_ATL_BWSMUX_REG(i),					  cdesc->bws);
atl_write(cinfo, DRA7_ATL_BWSMUX_REG(i),					  cdesc->bws)
atl_write
atl_write
cinfo
cinfo
DRA7_ATL_BWSMUX_REG(i)
DRA7_ATL_BWSMUX_REG
DRA7_ATL_BWSMUX_REG
i
i
cdesc->bws
cdesc
cdesc
bws
atl_write(cinfo, DRA7_ATL_AWSMUX_REG(i),					  cdesc->aws);
atl_write(cinfo, DRA7_ATL_AWSMUX_REG(i),					  cdesc->aws)
atl_write
atl_write
cinfo
cinfo
DRA7_ATL_AWSMUX_REG(i)
DRA7_ATL_AWSMUX_REG
DRA7_ATL_AWSMUX_REG
i
i
cdesc->aws
cdesc
cdesc
aws
of_node_put(cfg_node);
of_node_put(cfg_node)
of_node_put
of_node_put
cfg_node
cfg_node
cdesc->probed = true;
cdesc->probed = true
cdesc->probed
cdesc
cdesc
probed
true
if (cdesc->enabled)			atl_clk_enable(__clk_get_hw(clk));
cdesc->enabled
cdesc
cdesc
enabled
atl_clk_enable(__clk_get_hw(clk));
atl_clk_enable(__clk_get_hw(clk))
atl_clk_enable
atl_clk_enable
__clk_get_hw(clk)
__clk_get_hw
__clk_get_hw
clk
clk
pm_runtime_put_sync(cinfo->dev);
pm_runtime_put_sync(cinfo->dev)
pm_runtime_put_sync
pm_runtime_put_sync
cinfo->dev
cinfo
cinfo
dev
return ret;
ret
ret
-----joern-----
(26,153,0)
(34,47,0)
(167,157,0)
(169,200,0)
(190,132,0)
(49,78,0)
(123,132,0)
(105,28,0)
(27,163,0)
(115,157,0)
(138,157,0)
(28,96,0)
(68,63,0)
(70,154,0)
(71,165,0)
(43,15,0)
(153,78,0)
(160,125,0)
(147,195,0)
(162,165,0)
(84,37,0)
(78,80,0)
(44,169,0)
(180,165,0)
(22,168,0)
(189,201,0)
(145,96,0)
(179,25,0)
(7,157,0)
(40,129,0)
(133,189,0)
(30,157,0)
(100,25,0)
(186,165,0)
(46,79,0)
(74,106,0)
(200,143,0)
(62,90,0)
(46,180,0)
(43,73,0)
(93,25,0)
(70,67,0)
(174,15,0)
(49,13,0)
(63,32,0)
(5,143,0)
(122,79,0)
(14,91,0)
(47,165,0)
(28,165,0)
(29,46,0)
(142,25,0)
(158,154,0)
(131,101,0)
(113,157,0)
(96,25,0)
(189,25,0)
(184,99,0)
(70,32,0)
(148,42,0)
(164,71,0)
(11,157,0)
(196,107,0)
(124,132,0)
(178,129,0)
(104,8,0)
(80,58,0)
(176,72,0)
(76,71,0)
(23,74,0)
(192,172,0)
(67,79,0)
(185,195,0)
(51,146,0)
(116,104,0)
(171,49,0)
(83,22,0)
(90,195,0)
(144,106,0)
(18,25,0)
(173,104,0)
(132,93,0)
(69,60,0)
(156,189,0)
(1,145,0)
(21,157,0)
(121,106,0)
(129,182,0)
(154,70,0)
(189,165,0)
(88,145,0)
(70,165,0)
(103,186,0)
(74,157,0)
(38,68,0)
(193,107,0)
(36,93,0)
(111,79,0)
(172,60,0)
(99,60,0)
(143,200,0)
(28,57,0)
(0,196,0)
(57,25,0)
(129,79,0)
(20,79,0)
(126,172,0)
(47,96,0)
(92,104,0)
(140,36,0)
(127,93,0)
(195,93,0)
(45,120,0)
(81,46,0)
(99,168,0)
(87,123,0)
(132,167,0)
(179,36,0)
(166,70,0)
(197,96,0)
(58,80,0)
(159,37,0)
(22,146,0)
(182,157,0)
(79,157,0)
(66,48,0)
(175,90,0)
(146,22,0)
(40,197,0)
(130,20,0)
(14,40,0)
(53,37,0)
(40,162,0)
(165,22,0)
(3,35,0)
(175,10,0)
(201,189,0)
(55,97,0)
(82,97,0)
(36,179,0)
(117,67,0)
(2,63,0)
(78,157,0)
(139,28,0)
(12,25,0)
(200,169,0)
(168,22,0)
(24,197,0)
(35,107,0)
(22,165,0)
(86,10,0)
(110,47,0)
(163,93,0)
(150,40,0)
(187,73,0)
(71,18,0)
(15,79,0)
(54,25,0)
(37,157,0)
(143,79,0)
(118,144,0)
(172,192,0)
(14,155,0)
(151,69,0)
(107,35,0)
(57,28,0)
(35,3,0)
(153,122,0)
(180,157,0)
(107,90,0)
(69,101,0)
(170,67,0)
(136,25,0)
(41,107,0)
(196,10,0)
(104,106,0)
(1,25,0)
(134,175,0)
(75,68,0)
(86,196,0)
(135,180,0)
(149,157,0)
(85,3,0)
(86,169,0)
(192,96,0)
(18,71,0)
(122,153,0)
(56,132,0)
(19,25,0)
(91,97,0)
(195,90,0)
(40,20,0)
(94,129,0)
(114,125,0)
(79,122,0)
(98,143,0)
(132,106,0)
(13,49,0)
(146,51,0)
(72,37,0)
(59,69,0)
(161,36,0)
(73,106,0)
(154,106,0)
(3,79,0)
(64,3,0)
(128,10,0)
(145,165,0)
(169,90,0)
(107,196,0)
(169,86,0)
(119,169,0)
(165,25,0)
(14,33,0)
(91,25,0)
(43,32,0)
(17,25,0)
(40,8,0)
(145,1,0)
(91,86,0)
(9,132,0)
(47,136,0)
(37,72,0)
(40,46,0)
(67,70,0)
(89,162,0)
(42,33,0)
(137,197,0)
(191,20,0)
(162,179,0)
(194,182,0)
(39,144,0)
(183,106,0)
(132,123,0)
(152,165,0)
(31,157,0)
(16,51,0)
(68,79,0)
(199,86,0)
(20,74,0)
(95,172,0)
(167,132,0)
(90,157,0)
(52,162,0)
(101,93,0)
(197,165,0)
(198,155,0)
(136,47,0)
(50,15,0)
(108,150,0)
(73,43,0)
(96,192,0)
(65,91,0)
(101,69,0)
(48,86,0)
(61,78,0)
(181,145,0)
(37,106,0)
(112,201,0)
(93,101,0)
(40,68,0)
(168,99,0)
(120,106,0)
(109,58,0)
(6,43,0)
(43,165,0)
(125,79,0)
(102,167,0)
(80,78,0)
(141,25,0)
(15,43,0)
(71,96,0)
(97,25,0)
(188,99,0)
(4,198,0)
(55,82,1)
(165,22,1)
(162,165,1)
(46,29,1)
(44,199,1)
(84,74,1)
(15,174,1)
(35,3,1)
(45,125,1)
(49,171,1)
(111,78,1)
(39,120,1)
(106,121,1)
(90,195,1)
(39,106,1)
(188,152,1)
(164,144,1)
(154,158,1)
(15,79,1)
(87,190,1)
(194,129,1)
(107,90,1)
(162,89,1)
(37,106,1)
(14,91,1)
(126,197,1)
(190,124,1)
(3,64,1)
(80,58,1)
(104,106,1)
(129,178,1)
(76,164,1)
(179,36,1)
(134,48,1)
(78,80,1)
(120,45,1)
(41,193,1)
(146,51,1)
(193,0,1)
(116,177,1)
(86,196,1)
(180,135,1)
(121,183,1)
(152,163,1)
(47,165,1)
(187,6,1)
(69,59,1)
(40,20,1)
(178,94,1)
(148,163,1)
(134,70,1)
(129,79,1)
(69,60,1)
(85,41,1)
(22,83,1)
(51,16,1)
(50,73,1)
(110,57,1)
(28,165,1)
(182,194,1)
(91,86,1)
(107,35,1)
(83,146,1)
(86,169,1)
(131,69,1)
(125,79,1)
(99,184,1)
(14,155,1)
(9,102,1)
(135,46,1)
(172,60,1)
(201,112,1)
(153,26,1)
(170,117,1)
(140,162,1)
(105,1,1)
(43,73,1)
(67,79,1)
(171,125,1)
(47,34,1)
(36,161,1)
(153,78,1)
(73,187,1)
(145,165,1)
(103,165,1)
(177,167,1)
(63,2,1)
(169,200,1)
(62,37,1)
(173,92,1)
(13,49,1)
(91,97,1)
(66,86,1)
(4,186,1)
(94,77,1)
(61,177,1)
(2,68,1)
(40,68,1)
(132,123,1)
(48,66,1)
(43,15,1)
(109,61,1)
(96,192,1)
(119,44,1)
(120,106,1)
(34,110,1)
(40,162,1)
(65,18,1)
(71,76,1)
(1,145,1)
(189,165,1)
(52,186,1)
(195,93,1)
(48,86,1)
(189,133,1)
(74,106,1)
(199,196,1)
(20,130,1)
(176,84,1)
(186,165,1)
(125,114,1)
(181,96,1)
(168,99,1)
(174,50,1)
(73,106,1)
(151,127,1)
(163,27,1)
(70,67,1)
(3,79,1)
(101,69,1)
(38,75,1)
(82,93,1)
(47,96,1)
(163,93,1)
(29,81,1)
(58,109,1)
(155,198,1)
(139,105,1)
(197,137,1)
(200,143,1)
(49,78,1)
(20,79,1)
(14,33,1)
(79,122,1)
(145,96,1)
(117,154,1)
(183,189,1)
(68,38,1)
(132,93,1)
(112,156,1)
(144,106,1)
(167,132,1)
(36,93,1)
(24,179,1)
(189,201,1)
(27,97,1)
(198,4,1)
(22,168,1)
(118,39,1)
(71,165,1)
(158,166,1)
(77,90,1)
(108,104,1)
(91,65,1)
(88,181,1)
(185,62,1)
(145,88,1)
(136,47,1)
(46,79,1)
(33,42,1)
(195,147,1)
(122,153,1)
(53,159,1)
(14,40,1)
(40,46,1)
(98,5,1)
(143,98,1)
(97,55,1)
(59,151,1)
(95,126,1)
(71,96,1)
(23,20,1)
(40,150,1)
(196,107,1)
(137,24,1)
(156,136,1)
(104,173,1)
(144,118,1)
(132,106,1)
(67,170,1)
(161,140,1)
(70,154,1)
(45,13,1)
(160,182,1)
(123,87,1)
(70,165,1)
(6,63,1)
(74,23,1)
(99,60,1)
(16,168,1)
(81,79,1)
(89,52,1)
(130,191,1)
(124,56,1)
(64,85,1)
(143,79,1)
(191,180,1)
(102,144,1)
(94,175,1)
(166,43,1)
(197,165,1)
(40,197,1)
(0,77,1)
(37,72,1)
(180,165,1)
(93,101,1)
(40,129,1)
(37,53,1)
(72,176,1)
(114,160,1)
(43,165,1)
(133,201,1)
(42,148,1)
(184,188,1)
(26,111,1)
(75,48,1)
(159,72,1)
(154,106,1)
(22,146,1)
(92,116,1)
(147,185,1)
(56,9,1)
(175,90,1)
(68,79,1)
(186,103,1)
(28,96,1)
(169,90,1)
(175,134,1)
(150,108,1)
(192,172,1)
(101,131,1)
(5,119,1)
(18,71,1)
(57,28,1)
(28,139,1)
(172,95,1)
(188,163,2)
(177,144,2)
(130,177,2)
(101,69,2)
(145,96,2)
(189,186,2)
(118,186,2)
(103,163,2)
(189,165,2)
(37,177,2)
(47,165,2)
(44,77,2)
(175,77,2)
(189,201,2)
(40,197,2)
(172,186,2)
(161,186,2)
(150,177,2)
(159,177,2)
(69,60,2)
(37,106,2)
(162,165,2)
(1,145,2)
(58,177,2)
(68,79,2)
(122,153,2)
(168,163,2)
(70,67,2)
(160,177,2)
(96,186,2)
(125,177,2)
(192,172,2)
(139,186,2)
(169,200,2)
(49,125,2)
(174,48,2)
(28,165,2)
(74,106,2)
(78,80,2)
(57,28,2)
(18,71,2)
(74,177,2)
(90,177,2)
(91,144,2)
(137,186,2)
(34,186,2)
(121,186,2)
(14,40,2)
(107,77,2)
(15,48,2)
(72,177,2)
(38,48,2)
(95,186,2)
(175,90,2)
(118,177,2)
(195,177,2)
(43,48,2)
(129,79,2)
(14,91,2)
(186,163,2)
(40,68,2)
(80,58,2)
(182,177,2)
(153,78,2)
(132,106,2)
(86,77,2)
(180,177,2)
(70,165,2)
(48,86,2)
(132,93,2)
(70,48,2)
(192,186,2)
(104,106,2)
(0,77,2)
(29,177,2)
(167,132,2)
(52,186,2)
(107,35,2)
(152,163,2)
(15,79,2)
(22,163,2)
(73,48,2)
(144,177,2)
(194,177,2)
(162,186,2)
(71,144,2)
(114,177,2)
(155,186,2)
(61,177,2)
(42,163,2)
(48,77,2)
(79,177,2)
(18,144,2)
(40,129,2)
(49,78,2)
(199,77,2)
(40,177,2)
(14,33,2)
(66,77,2)
(154,48,2)
(39,186,2)
(20,79,2)
(179,186,2)
(1,186,2)
(170,48,2)
(106,186,2)
(35,77,2)
(120,177,2)
(73,106,2)
(47,186,2)
(133,186,2)
(144,106,2)
(28,186,2)
(57,186,2)
(91,97,2)
(92,177,2)
(179,36,2)
(80,177,2)
(126,186,2)
(143,79,2)
(147,177,2)
(144,186,2)
(135,177,2)
(65,144,2)
(3,77,2)
(99,163,2)
(140,186,2)
(129,177,2)
(45,177,2)
(154,106,2)
(13,49,2)
(187,48,2)
(93,101,2)
(98,77,2)
(39,177,2)
(3,79,2)
(167,144,2)
(165,22,2)
(99,60,2)
(169,77,2)
(110,186,2)
(5,77,2)
(176,177,2)
(51,163,2)
(64,77,2)
(181,186,2)
(185,177,2)
(200,143,2)
(43,165,2)
(88,186,2)
(164,144,2)
(132,144,2)
(165,163,2)
(22,168,2)
(198,186,2)
(146,163,2)
(76,144,2)
(94,177,2)
(78,177,2)
(89,186,2)
(79,122,2)
(183,186,2)
(125,79,2)
(119,77,2)
(16,163,2)
(105,186,2)
(2,48,2)
(156,186,2)
(33,163,2)
(145,186,2)
(136,47,2)
(20,177,2)
(53,177,2)
(163,93,2)
(9,144,2)
(136,186,2)
(104,177,2)
(180,165,2)
(4,186,2)
(145,165,2)
(146,51,2)
(37,72,2)
(67,48,2)
(171,125,2)
(124,144,2)
(35,3,2)
(143,77,2)
(168,99,2)
(81,177,2)
(109,177,2)
(111,177,2)
(71,96,2)
(107,90,2)
(108,177,2)
(112,186,2)
(197,165,2)
(132,123,2)
(40,162,2)
(63,48,2)
(6,48,2)
(201,186,2)
(178,177,2)
(91,86,2)
(68,48,2)
(148,163,2)
(153,177,2)
(24,186,2)
(197,186,2)
(86,169,2)
(191,177,2)
(77,177,2)
(123,144,2)
(43,73,2)
(173,177,2)
(200,77,2)
(186,165,2)
(43,15,2)
(193,77,2)
(169,90,2)
(116,177,2)
(14,155,2)
(120,106,2)
(122,177,2)
(172,60,2)
(47,96,2)
(40,20,2)
(13,125,2)
(184,163,2)
(26,177,2)
(86,196,2)
(40,46,2)
(196,77,2)
(84,177,2)
(50,48,2)
(75,48,2)
(90,195,2)
(87,144,2)
(102,144,2)
(85,77,2)
(83,163,2)
(28,96,2)
(117,48,2)
(36,93,2)
(67,79,2)
(62,177,2)
(134,77,2)
(195,93,2)
(41,77,2)
(96,192,2)
(22,146,2)
(166,48,2)
(70,154,2)
(23,177,2)
(46,79,2)
(196,107,2)
(46,177,2)
(158,48,2)
(71,165,2)
(36,186,2)
(56,144,2)
(190,144,2)
-----------------------------------
(0,ret)
(1,pm_runtime_enable(cinfo->dev)
(2,true)
(3,cdesc->bws)
(4,ENOMEM)
(5,cdesc)
(6,cinfo)
(7,cfg_node)
(8,)
(9,node)
(10,)
(11,if (cdesc->enabled)
(12,cinfo)
(13,atl_clk_enable(__clk_get_hw(clk)
(14,RET)
(15,cdesc->bws)
(16,cinfo)
(17,for (i = 0; i < DRA7_ATL_INSTANCES; i++)
(18,pm_runtime_put_sync(cinfo->dev)
(19,ret)
(20,cdesc->id)
(21,clk)
(22,devm_kzalloc(&pdev->dev, sizeof(*cinfo)
(23,i)
(24,cinfo)
(25,)
(26,clk)
(27,node)
(28,cinfo->dev)
(29,cinfo)
(30,prop)
(31,cdesc)
(32,)
(33,return -ENODEV;)
(34,dev)
(35,&cdesc->bws)
(36,of_iomap(node, 0)
(37,snprintf(prop, sizeof(prop)
(38,valid)
(39,i)
(40,return -EINVAL;)
(41,"bws")
(42,-ENODEV)
(43,atl_write(cinfo, DRA7_ATL_BWSMUX_REG(i)
(44,cfg_node)
(45,i)
(46,cdesc->cinfo)
(47,cinfo->dev)
(48,!ret)
(49,__clk_get_hw(clk)
(50,cdesc)
(51,*cinfo)
(52,cinfo)
(53,i)
(54,node)
(55,0)
(56,"ti,provided-clocks")
(57,pm_runtime_irq_safe(cinfo->dev)
(58,&clkspec)
(59,dev)
(60,struct platform_device *pdev)
(61,clk)
(62,cfg_node)
(63,cdesc->valid = true)
(64,bws)
(65,ret)
(66,ret)
(67,cdesc->aws)
(68,cdesc->valid)
(69,pdev->dev)
(70,atl_write(cinfo, DRA7_ATL_AWSMUX_REG(i)
(71,cinfo->dev)
(72,sizeof(prop)
(73,DRA7_ATL_BWSMUX_REG(i)
(74,cdesc->id = i)
(75,cdesc)
(76,dev)
(77,cfg_node)
(78,clk = of_clk_get_from_provider(&clkspec)
(79,cdesc = to_atl_desc(__clk_get_hw(clk)
(80,of_clk_get_from_provider(&clkspec)
(81,cdesc)
(82,ret)
(83,GFP_KERNEL)
(84,prop)
(85,cdesc)
(86,ret |= of_property_read_u32(cfg_node, "aws",\n\\n\\t\\t\\t\\t\\t\\t    &cdesc->aws)
(87,clkspec)
(88,dev)
(89,iobase)
(90,cfg_node = of_get_child_by_name(node, prop)
(91,return ret;)
(92,__func__)
(93,*node = pdev->dev.of_node)
(94,cdesc)
(95,dev)
(96,cinfo->dev = &pdev->dev)
(97,ret = 0)
(98,aws)
(99,pdev->dev)
(100,if (!cinfo)
(101,pdev->dev.of_node)
(102,rc)
(103,cinfo)
(104,pr_err("%s: failed to lookup atl clock %d\\n", __func__,\n\\n\\t\\t\\t       i)
(105,cinfo)
(106,i = 0)
(107,of_property_read_u32(cfg_node, "bws",\n\\n\\t\\t\\t\\t\\t\\t   &cdesc->bws)
(108,EINVAL)
(109,clkspec)
(110,cinfo)
(111,cdesc)
(112,0)
(113,clkspec)
(114,enabled)
(115,rc)
(116,"%s: failed to lookup atl clock %d\\n")
(117,cdesc)
(118,DRA7_ATL_INSTANCES)
(119,"aws")
(120,i++)
(121,0)
(122,to_atl_desc(__clk_get_hw(clk)
(123,&clkspec)
(124,NULL)
(125,cdesc->enabled)
(126,pdev)
(127,node)
(128,if (!ret)
(129,cdesc->probed)
(130,id)
(131,of_node)
(132,of_parse_phandle_with_args(node, "ti,provided-clocks",\n\\n\\t\\t\\t\\t\\t\\tNULL, i, &clkspec)
(133,DRA7_ATL_PCLKMUX)
(134,cfg_node)
(135,cinfo)
(136,pm_runtime_get_sync(cinfo->dev)
(137,dev)
(138,if (cfg_node)
(139,dev)
(140,node)
(141,i)
(142,if (!node)
(143,cdesc->aws)
(144,i < DRA7_ATL_INSTANCES)
(145,cinfo->dev)
(146,sizeof(*cinfo)
(147,prop)
(148,ENODEV)
(149,if (rc)
(150,-EINVAL)
(151,pdev)
(152,cinfo)
(153,__clk_get_hw(clk)
(154,DRA7_ATL_AWSMUX_REG(i)
(155,return -ENOMEM;)
(156,cinfo)
(157,)
(158,i)
(159,"atl%u")
(160,cdesc)
(161,0)
(162,cinfo->iobase)
(163,!node)
(164,cinfo)
(165,cinfo = devm_kzalloc(&pdev->dev, sizeof(*cinfo)
(166,cinfo)
(167,rc = of_parse_phandle_with_args(node, "ti,provided-clocks",\n\\n\\t\\t\\t\\t\\t\\tNULL, i, &clkspec)
(168,&pdev->dev)
(169,of_property_read_u32(cfg_node, "aws",\n\\n\\t\\t\\t\\t\\t\\t    &cdesc->aws)
(170,aws)
(171,clk)
(172,pdev->dev)
(173,i)
(174,bws)
(175,of_node_put(cfg_node)
(176,prop)
(177,rc)
(178,probed)
(179,cinfo->iobase = of_iomap(node, 0)
(180,cdesc->cinfo = cinfo)
(181,cinfo)
(182,cdesc->probed = true)
(183,i)
(184,dev)
(185,node)
(186,!cinfo)
(187,i)
(188,pdev)
(189,atl_write(cinfo, DRA7_ATL_PCLKMUX_REG(0)
(190,i)
(191,cdesc)
(192,&pdev->dev)
(193,cfg_node)
(194,true)
(195,of_get_child_by_name(node, prop)
(196,ret = of_property_read_u32(cfg_node, "bws",\n\\n\\t\\t\\t\\t\\t\\t   &cdesc->bws)
(197,cinfo->dev)
(198,-ENOMEM)
(199,ret)
(200,&cdesc->aws)
(201,DRA7_ATL_PCLKMUX_REG(0)
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^