-----label-----
0
-----code-----
void
vm_wait(void)
{

	mtx_lock(&vm_page_queue_free_mtx);
	if (curproc == pageproc) {
		vm_pageout_pages_needed = 1;
		msleep(&vm_pageout_pages_needed, &vm_page_queue_free_mtx,
		    PDROP | PSWP, "VMWait", 0);
	} else {
		if (__predict_false(pageproc == NULL))
			panic("vm_wait in early boot");
		if (!vm_pageout_wanted) {
			vm_pageout_wanted = true;
			wakeup(&vm_pageout_wanted);
		}
		vm_pages_needed = true;
		msleep(&vm_cnt.v_free_count, &vm_page_queue_free_mtx, PDROP | PVM,
		    "vmwait", 0);
	}
}
-----children-----
1,2
1,3
1,4
3,4
3,5
5,6
5,7
7,8
9,10
9,11
10,11
11,12
11,13
12,13
14,15
15,16
15,17
18,19
18,20
18,21
19,20
19,21
20,21
22,23
24,25
24,26
25,26
26,27
26,28
27,28
30,31
31,32
31,33
31,34
31,35
31,36
31,37
32,33
34,35
35,36
37,38
38,39
40,41
40,42
41,42
43,44
47,48
47,49
47,50
47,51
48,49
48,50
49,50
49,51
50,51
52,53
52,54
53,54
55,56
57,58
58,59
58,60
59,60
62,63
62,64
63,64
64,65
66,67
66,68
67,68
68,69
68,70
69,70
72,73
73,74
73,75
74,75
76,77
77,78
77,79
80,81
81,82
81,83
82,83
85,86
86,87
86,88
86,89
86,90
86,91
86,92
87,88
89,90
90,91
90,92
91,92
94,95
95,96
97,98
97,99
98,99
100,101
-----nextToken-----
2,4,6,8,13,16,17,21,23,28,29,33,36,39,42,44,45,46,51,54,56,60,61,65,70,71,75,78,79,83,84,88,92,93,96,99,101,102,103
-----computeFrom-----
19,20
19,21
26,27
26,28
40,41
40,42
52,53
52,54
68,69
68,70
81,82
81,83
97,98
97,99
-----guardedBy-----
-----guardedByNegation-----
23,54
-----lastLexicalUse-----
-----jump-----
-----attribute-----
FunctionDefinition;SimpleDeclSpecifier;FunctionDeclarator;Name;ParameterDeclaration;SimpleDeclSpecifier;Declarator;Name;CompoundStatement;DeclarationStatement;SimpleDeclaration;NamedTypeSpecifier;Name;Declarator;Declarator;ReferenceOperator;Name;IfStatement;BinaryExpression;IdExpression;Name;IdExpression;Name;CompoundStatement;ExpressionStatement;BinaryExpression;IdExpression;Name;LiteralExpression;ExpressionStatement;FunctionCallExpression;IdExpression;Name;UnaryExpression;IdExpression;Name;UnaryExpression;IdExpression;Name;BinaryExpression;IdExpression;Name;IdExpression;Name;LiteralExpression;LiteralExpression;CompoundStatement;IfStatement;FunctionCallExpression;IdExpression;Name;BinaryExpression;IdExpression;Name;IdExpression;Name;ExpressionStatement;FunctionCallExpression;IdExpression;Name;LiteralExpression;IfStatement;UnaryExpression;IdExpression;Name;CompoundStatement;ExpressionStatement;BinaryExpression;IdExpression;Name;LiteralExpression;DeclarationStatement;SimpleDeclaration;NamedTypeSpecifier;Name;Declarator;Declarator;ReferenceOperator;Name;ExpressionStatement;BinaryExpression;IdExpression;Name;LiteralExpression;ExpressionStatement;FunctionCallExpression;IdExpression;Name;UnaryExpression;FieldReference;IdExpression;Name;Name;UnaryExpression;IdExpression;Name;BinaryExpression;IdExpression;Name;IdExpression;Name;LiteralExpression;LiteralExpression;
-----ast_node-----
voidvm_wait(void){	mtx_lock(&vm_page_queue_free_mtx);	if (curproc == pageproc) {		vm_pageout_pages_needed = 1;		msleep(&vm_pageout_pages_needed, &vm_page_queue_free_mtx,		    PDROP | PSWP, "VMWait", 0);	} else {		if (__predict_false(pageproc == NULL))			panic("vm_wait in early boot");		if (!vm_pageout_wanted) {			vm_pageout_wanted = true;			wakeup(&vm_pageout_wanted);		}		vm_pages_needed = true;		msleep(&vm_cnt.v_free_count, &vm_page_queue_free_mtx, PDROP | PVM,		    "vmwait", 0);	}}
void
vm_wait(void)
vm_wait
void
void


{	mtx_lock(&vm_page_queue_free_mtx);	if (curproc == pageproc) {		vm_pageout_pages_needed = 1;		msleep(&vm_pageout_pages_needed, &vm_page_queue_free_mtx,		    PDROP | PSWP, "VMWait", 0);	} else {		if (__predict_false(pageproc == NULL))			panic("vm_wait in early boot");		if (!vm_pageout_wanted) {			vm_pageout_wanted = true;			wakeup(&vm_pageout_wanted);		}		vm_pages_needed = true;		msleep(&vm_cnt.v_free_count, &vm_page_queue_free_mtx, PDROP | PVM,		    "vmwait", 0);	}}
mtx_lock(&vm_page_queue_free_mtx);
mtx_lock(&vm_page_queue_free_mtx);
mtx_lock
mtx_lock
(&vm_page_queue_free_mtx)
&vm_page_queue_free_mtx
&
vm_page_queue_free_mtx
if (curproc == pageproc) {		vm_pageout_pages_needed = 1;		msleep(&vm_pageout_pages_needed, &vm_page_queue_free_mtx,		    PDROP | PSWP, "VMWait", 0);	} else {		if (__predict_false(pageproc == NULL))			panic("vm_wait in early boot");		if (!vm_pageout_wanted) {			vm_pageout_wanted = true;			wakeup(&vm_pageout_wanted);		}		vm_pages_needed = true;		msleep(&vm_cnt.v_free_count, &vm_page_queue_free_mtx, PDROP | PVM,		    "vmwait", 0);	}
curproc == pageproc
curproc
curproc
pageproc
pageproc
{		vm_pageout_pages_needed = 1;		msleep(&vm_pageout_pages_needed, &vm_page_queue_free_mtx,		    PDROP | PSWP, "VMWait", 0);	}
vm_pageout_pages_needed = 1;
vm_pageout_pages_needed = 1
vm_pageout_pages_needed
vm_pageout_pages_needed
1
msleep(&vm_pageout_pages_needed, &vm_page_queue_free_mtx,		    PDROP | PSWP, "VMWait", 0);
msleep(&vm_pageout_pages_needed, &vm_page_queue_free_mtx,		    PDROP | PSWP, "VMWait", 0)
msleep
msleep
&vm_pageout_pages_needed
vm_pageout_pages_needed
vm_pageout_pages_needed
&vm_page_queue_free_mtx
vm_page_queue_free_mtx
vm_page_queue_free_mtx
PDROP | PSWP
PDROP
PDROP
PSWP
PSWP
"VMWait"
0
{		if (__predict_false(pageproc == NULL))			panic("vm_wait in early boot");		if (!vm_pageout_wanted) {			vm_pageout_wanted = true;			wakeup(&vm_pageout_wanted);		}		vm_pages_needed = true;		msleep(&vm_cnt.v_free_count, &vm_page_queue_free_mtx, PDROP | PVM,		    "vmwait", 0);	}
if (__predict_false(pageproc == NULL))			panic("vm_wait in early boot");
__predict_false(pageproc == NULL)
__predict_false
__predict_false
pageproc == NULL
pageproc
pageproc
NULL
NULL
panic("vm_wait in early boot");
panic("vm_wait in early boot")
panic
panic
"vm_wait in early boot"
if (!vm_pageout_wanted) {			vm_pageout_wanted = true;			wakeup(&vm_pageout_wanted);		}
!vm_pageout_wanted
vm_pageout_wanted
vm_pageout_wanted
{			vm_pageout_wanted = true;			wakeup(&vm_pageout_wanted);		}
vm_pageout_wanted = true;
vm_pageout_wanted = true
vm_pageout_wanted
vm_pageout_wanted
true
wakeup(&vm_pageout_wanted);
wakeup(&vm_pageout_wanted);
wakeup
wakeup
(&vm_pageout_wanted)
&vm_pageout_wanted
&
vm_pageout_wanted
vm_pages_needed = true;
vm_pages_needed = true
vm_pages_needed
vm_pages_needed
true
msleep(&vm_cnt.v_free_count, &vm_page_queue_free_mtx, PDROP | PVM,		    "vmwait", 0);
msleep(&vm_cnt.v_free_count, &vm_page_queue_free_mtx, PDROP | PVM,		    "vmwait", 0)
msleep
msleep
&vm_cnt.v_free_count
vm_cnt.v_free_count
vm_cnt
vm_cnt
v_free_count
&vm_page_queue_free_mtx
vm_page_queue_free_mtx
vm_page_queue_free_mtx
PDROP | PVM
PDROP
PDROP
PVM
PVM
"vmwait"
0
-----joern-----
(6,8,0)
(28,35,0)
(7,17,0)
(30,17,0)
(19,20,0)
(8,47,0)
(21,14,0)
(26,41,0)
(14,42,0)
(38,41,0)
(9,54,0)
(47,8,0)
(46,2,0)
(22,8,0)
(29,54,0)
(52,33,0)
(17,7,0)
(18,49,0)
(13,55,0)
(50,7,0)
(36,46,0)
(41,38,0)
(32,37,0)
(17,42,0)
(11,55,0)
(34,17,0)
(2,46,0)
(8,44,0)
(17,34,0)
(43,7,0)
(11,40,0)
(8,22,0)
(48,40,0)
(20,44,0)
(2,17,0)
(38,37,0)
(25,14,0)
(15,33,0)
(40,11,0)
(53,8,0)
(12,47,0)
(27,47,0)
(16,46,0)
(24,8,0)
(39,42,0)
(3,13,0)
(17,2,0)
(45,6,0)
(31,54,0)
(23,20,0)
(1,42,0)
(8,6,0)
(4,13,0)
(5,17,0)
(0,22,0)
(54,31,0)
(10,34,0)
(40,48,1)
(8,24,1)
(19,23,1)
(17,7,1)
(23,33,1)
(24,53,1)
(11,40,1)
(51,17,1)
(17,2,1)
(46,16,1)
(28,49,1)
(7,50,1)
(12,6,1)
(16,36,1)
(29,9,1)
(2,46,1)
(25,11,1)
(3,35,1)
(50,43,1)
(9,33,1)
(25,35,1)
(10,2,1)
(8,6,1)
(52,15,1)
(15,38,1)
(34,10,1)
(21,25,1)
(27,12,1)
(31,54,1)
(6,45,1)
(5,7,1)
(30,5,1)
(49,18,1)
(17,30,1)
(47,27,1)
(48,13,1)
(28,31,1)
(41,26,1)
(13,4,1)
(17,34,1)
(51,8,1)
(8,47,1)
(33,52,1)
(20,19,1)
(43,34,1)
(4,3,1)
(35,28,1)
(22,0,1)
(36,14,1)
(14,21,1)
(53,47,1)
(8,22,1)
(54,29,1)
(38,41,1)
(18,31,1)
(45,22,1)
(0,20,1)
(23,33,2)
(2,46,2)
(10,33,2)
(12,33,2)
(7,33,2)
(11,40,2)
(22,33,2)
(40,35,2)
(8,6,2)
(24,33,2)
(35,33,2)
(49,31,2)
(50,33,2)
(30,33,2)
(31,54,2)
(3,35,2)
(17,33,2)
(18,31,2)
(6,33,2)
(48,35,2)
(8,47,2)
(28,33,2)
(17,34,2)
(21,33,2)
(54,33,2)
(8,22,2)
(25,33,2)
(14,33,2)
(53,33,2)
(19,33,2)
(36,33,2)
(34,33,2)
(9,33,2)
(17,7,2)
(13,35,2)
(11,35,2)
(29,33,2)
(8,33,2)
(46,33,2)
(2,33,2)
(47,33,2)
(45,33,2)
(38,41,2)
(43,33,2)
(20,33,2)
(5,33,2)
(4,35,2)
(16,33,2)
(27,33,2)
(0,33,2)
(17,2,2)
(31,33,2)
-----------------------------------
(0,vm_pageout_pages_needed)
(1,if (!vm_pageout_wanted)
(2,&vm_cnt.v_free_count)
(3,vm_pageout_wanted)
(4,true)
(5,"vmwait")
(6,&vm_page_queue_free_mtx)
(7,PDROP | PVM)
(8,msleep(&vm_pageout_pages_needed, &vm_page_queue_free_mtx,\n\\n\\t\\t    PDROP | PSWP, "VMWait", 0)
(9,pageproc)
(10,vm_page_queue_free_mtx)
(11,wakeup(&vm_pageout_wanted)
(12,PDROP)
(13,vm_pageout_wanted = true)
(14,vm_pages_needed = true)
(15,curproc)
(16,v_free_count)
(17,msleep(&vm_cnt.v_free_count, &vm_page_queue_free_mtx, PDROP | PVM,\n\\n\\t\\t    "vmwait", 0)
(18,"vm_wait in early boot")
(19,1)
(20,vm_pageout_pages_needed = 1)
(21,true)
(22,&vm_pageout_pages_needed)
(23,vm_pageout_pages_needed)
(24,0)
(25,vm_pages_needed)
(26,vm_page_queue_free_mtx)
(27,PSWP)
(28,vm_pageout_wanted)
(29,NULL)
(30,0)
(31,__predict_false(pageproc == NULL)
(32,if (curproc == pageproc)
(33,curproc == pageproc)
(34,&vm_page_queue_free_mtx)
(35,!vm_pageout_wanted)
(36,vm_cnt)
(37,)
(38,mtx_lock(&vm_page_queue_free_mtx)
(39,if (__predict_false(pageproc == NULL)
(40,&vm_pageout_wanted)
(41,&vm_page_queue_free_mtx)
(42,)
(43,PDROP)
(44,)
(45,vm_page_queue_free_mtx)
(46,vm_cnt.v_free_count)
(47,PDROP | PSWP)
(48,vm_pageout_wanted)
(49,panic("vm_wait in early boot")
(50,PVM)
(51,RET)
(52,pageproc)
(53,"VMWait")
(54,pageproc == NULL)
(55,)
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^