-----label-----
0
-----code-----
void machine_power_off(void)
{
	/* If there is a registered power off handler, call it. */
	if (chassis_power_off)
		chassis_power_off();

	/* Put the soft power button back under hardware control.
	 * If the user had already pressed the power button, the
	 * following call will immediately power off. */
	pdc_soft_power_button(0);
	
	pdc_chassis_send_status(PDC_CHASSIS_DIRECT_SHUTDOWN);
		
	/* It seems we have no way to power the system off via
	 * software. The user has to press the button himself. */

	printk(KERN_EMERG "System shut down completed.\n"
	       "Please power this system off now.");

	/* prevent soft lockup/stalled CPU messages for endless loop. */
	rcu_sysrq_start();
	for (;;);
}
-----children-----
1,2
1,3
1,4
3,4
3,5
5,6
5,7
7,8
9,10
9,11
9,12
9,13
9,14
9,15
10,11
10,12
11,12
13,14
14,15
15,16
17,18
18,19
18,20
19,20
22,23
23,24
23,25
24,25
26,27
27,28
29,30
30,31
31,32
32,33
34,35
34,36
-----nextToken-----
2,4,6,8,12,16,20,21,25,28,33,35,36
-----computeFrom-----
-----guardedBy-----
-----guardedByNegation-----
-----lastLexicalUse-----
-----jump-----
-----attribute-----
FunctionDefinition;SimpleDeclSpecifier;FunctionDeclarator;Name;ParameterDeclaration;SimpleDeclSpecifier;Declarator;Name;CompoundStatement;IfStatement;IdExpression;Name;ExpressionStatement;FunctionCallExpression;IdExpression;Name;ExpressionStatement;FunctionCallExpression;IdExpression;Name;LiteralExpression;DeclarationStatement;SimpleDeclaration;NamedTypeSpecifier;Name;Declarator;Declarator;Name;ProblemStatement;ExpressionStatement;FunctionCallExpression;IdExpression;Name;ForStatement;NullStatement;NullStatement;
-----ast_node-----
void machine_power_off(void){	/* If there is a registered power off handler, call it. */	if (chassis_power_off)		chassis_power_off();	/* Put the soft power button back under hardware control.	 * If the user had already pressed the power button, the	 * following call will immediately power off. */	pdc_soft_power_button(0);		pdc_chassis_send_status(PDC_CHASSIS_DIRECT_SHUTDOWN);			/* It seems we have no way to power the system off via	 * software. The user has to press the button himself. */	printk(KERN_EMERG "System shut down completed.\n"	       "Please power this system off now.");	/* prevent soft lockup/stalled CPU messages for endless loop. */	rcu_sysrq_start();	for (;;);}
void
machine_power_off(void)
machine_power_off
void
void


{	/* If there is a registered power off handler, call it. */	if (chassis_power_off)		chassis_power_off();	/* Put the soft power button back under hardware control.	 * If the user had already pressed the power button, the	 * following call will immediately power off. */	pdc_soft_power_button(0);		pdc_chassis_send_status(PDC_CHASSIS_DIRECT_SHUTDOWN);			/* It seems we have no way to power the system off via	 * software. The user has to press the button himself. */	printk(KERN_EMERG "System shut down completed.\n"	       "Please power this system off now.");	/* prevent soft lockup/stalled CPU messages for endless loop. */	rcu_sysrq_start();	for (;;);}
if (chassis_power_off)		chassis_power_off();
chassis_power_off
chassis_power_off
chassis_power_off();
chassis_power_off()
chassis_power_off
chassis_power_off
pdc_soft_power_button(0);
pdc_soft_power_button(0)
pdc_soft_power_button
pdc_soft_power_button
0
pdc_chassis_send_status(PDC_CHASSIS_DIRECT_SHUTDOWN);
pdc_chassis_send_status(PDC_CHASSIS_DIRECT_SHUTDOWN);
pdc_chassis_send_status
pdc_chassis_send_status
(PDC_CHASSIS_DIRECT_SHUTDOWN)
PDC_CHASSIS_DIRECT_SHUTDOWN
PDC_CHASSIS_DIRECT_SHUTDOWN
printk(KERN_EMERG "System shut down completed.\n"	       "Please power this system off now.");
rcu_sysrq_start();
rcu_sysrq_start()
rcu_sysrq_start
rcu_sysrq_start
for (;;);
;
;
-----joern-----
(3,8,0)
(2,6,0)
(1,6,0)
(4,6,0)
(7,2,0)
(5,6,0)
(8,6,0)
(2,7,1)
(7,8,1)
(0,9,1)
(3,0,1)
(1,2,1)
(3,9,1)
(8,3,1)
-----------------------------------
(0,chassis_power_off()
(1,rcu_sysrq_start()
(2,pdc_chassis_send_status(PDC_CHASSIS_DIRECT_SHUTDOWN)
(3,0)
(4,for (;;)
(5,if (chassis_power_off)
(6,)
(7,PDC_CHASSIS_DIRECT_SHUTDOWN)
(8,pdc_soft_power_button(0)
(9,chassis_power_off)
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^