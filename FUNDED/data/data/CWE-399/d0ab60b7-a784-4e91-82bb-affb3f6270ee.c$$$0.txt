-----label-----
0
-----code-----
wpt_packet * wpalPacketAlloc(wpt_packet_type pktType, wpt_uint32 nPktSize,
                             wpalPacketLowPacketCB rxLowCB, void *usrData)
{
   VOS_STATUS   vosStatus = VOS_STATUS_E_FAILURE;
   wpt_packet*  pPkt      = NULL;
   vos_pkt_t*   pVosPkt   = NULL;
   void*        pData     = NULL;
   v_U16_t      allocLen;
   /*- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - */

   switch (pktType)
   {
   case eWLAN_PAL_PKT_TYPE_TX_802_11_MGMT:
      vosStatus = vos_pkt_get_packet(&pVosPkt, VOS_PKT_TYPE_TX_802_11_MGMT,
                                       nPktSize, 1, VOS_FALSE, 
                                       NULL, NULL /*no callback*/);
      break;

   case eWLAN_PAL_PKT_TYPE_RX_RAW:
      vosStatus = vos_pkt_get_packet(&pVosPkt, VOS_PKT_TYPE_RX_RAW,
                                       nPktSize, 1, VOS_FALSE, 
                                       wpalPacketRXLowResourceCB, usrData);

#ifndef FEATURE_R33D
      /* Reserve the entire raw rx buffer for DXE */
      if( vosStatus == VOS_STATUS_SUCCESS )
      {
        vosStatus =  vos_pkt_reserve_head_fast( pVosPkt, &pData, nPktSize ); 
      }
      else
      {
        wpalPacketAvailableCB = rxLowCB;
      }
#endif /* FEATURE_R33D */
      if((NULL != pVosPkt) && (VOS_STATUS_E_RESOURCES != vosStatus))
      {
         vos_pkt_get_packet_length(pVosPkt, &allocLen);
         if (nPktSize != allocLen)
         {
            WPAL_TRACE(eWLAN_MODULE_PAL, eWLAN_PAL_TRACE_LEVEL_ERROR,
                       "RX packet alloc has problem, discard this frame, Len %d", allocLen);
            vos_pkt_return_packet(pVosPkt);
            return NULL;
         }
      }
      break;

   default:
      WPAL_TRACE(eWLAN_MODULE_PAL, eWLAN_PAL_TRACE_LEVEL_ERROR, 
                  " try to allocate unsupported packet type (%d)\n", pktType);
      break;
   }

   if(VOS_IS_STATUS_SUCCESS(vosStatus))
   {
      pPkt = (wpt_packet *)pVosPkt;
   }


   return pPkt;
}
-----children-----
1,2
1,3
1,4
2,3
4,5
4,6
4,7
4,8
4,9
4,10
7,8
7,9
8,9
10,11
12,13
12,14
13,14
15,16
17,18
17,19
18,19
20,21
22,23
22,24
24,25
24,26
27,28
27,29
27,30
27,31
27,32
27,33
27,34
27,35
28,29
29,30
29,31
30,31
32,33
32,34
34,35
35,36
37,38
38,39
38,40
39,40
41,42
41,43
41,44
44,45
45,46
47,48
48,49
48,50
49,50
51,52
51,53
51,54
54,55
55,56
57,58
58,59
58,60
60,61
60,62
60,63
63,64
64,65
66,67
67,68
67,69
68,69
70,71
72,73
72,74
73,74
75,76
75,77
75,78
75,79
75,80
75,81
75,82
75,83
75,84
75,85
75,86
76,77
77,78
79,80
80,81
80,82
81,82
83,84
83,85
83,86
83,87
83,88
83,89
83,90
83,91
84,85
86,87
87,88
89,90
91,92
94,95
96,97
98,99
101,102
102,103
104,105
105,106
105,107
106,107
108,109
108,110
108,111
108,112
108,113
108,114
108,115
108,116
109,110
111,112
112,113
114,115
116,117
119,120
121,122
123,124
125,126
125,127
125,128
126,127
126,128
127,128
129,130
131,132
132,133
133,134
133,135
134,135
136,137
136,138
136,139
136,140
137,138
139,140
141,142
142,143
144,145
146,147
147,148
148,149
148,150
149,150
151,152
153,154
153,155
154,155
154,156
155,156
156,157
156,158
157,158
159,160
161,162
162,163
162,164
163,164
165,166
167,168
167,169
168,169
169,170
169,171
169,172
170,171
172,173
174,175
175,176
177,178
177,179
178,179
178,180
179,180
181,182
183,184
183,185
183,186
184,185
185,186
185,187
185,188
185,189
185,190
186,187
188,189
190,191
193,194
195,196
196,197
196,198
197,198
199,200
201,202
202,203
206,207
207,208
207,209
207,210
207,211
207,212
208,209
210,211
212,213
215,216
218,219
218,220
219,220
219,221
220,221
222,223
224,225
225,226
226,227
226,228
227,228
229,230
229,231
230,231
230,232
231,232
233,234
235,236
237,238
238,239
-----nextToken-----
3,5,6,9,11,14,16,19,21,23,25,26,31,33,36,40,42,43,46,50,52,53,56,59,61,62,65,69,71,74,78,82,85,88,90,92,93,95,97,99,100,103,107,110,113,115,117,118,120,122,124,128,130,135,138,140,143,145,150,152,158,160,164,166,171,173,176,180,182,187,189,191,192,194,198,200,203,204,205,209,211,213,214,216,217,221,223,228,232,234,236,239
-----computeFrom-----
80,81
80,82
105,106
105,107
126,127
126,128
133,134
133,135
148,149
148,150
154,155
154,156
156,157
156,158
162,163
162,164
178,179
178,180
226,227
226,228
-----guardedBy-----
128,135
158,203
160,200
182,194
-----guardedByNegation-----
-----lastLexicalUse-----
-----jump-----
-----attribute-----
FunctionDefinition;NamedTypeSpecifier;Name;FunctionDeclarator;Pointer;Name;ParameterDeclaration;NamedTypeSpecifier;Name;Declarator;Name;ParameterDeclaration;NamedTypeSpecifier;Name;Declarator;Name;ParameterDeclaration;NamedTypeSpecifier;Name;Declarator;Name;ParameterDeclaration;SimpleDeclSpecifier;Declarator;Pointer;Name;CompoundStatement;DeclarationStatement;SimpleDeclaration;NamedTypeSpecifier;Name;Declarator;Name;EqualsInitializer;IdExpression;Name;DeclarationStatement;SimpleDeclaration;NamedTypeSpecifier;Name;Declarator;Pointer;Name;EqualsInitializer;IdExpression;Name;DeclarationStatement;SimpleDeclaration;NamedTypeSpecifier;Name;Declarator;Pointer;Name;EqualsInitializer;IdExpression;Name;DeclarationStatement;SimpleDeclaration;SimpleDeclSpecifier;Declarator;Pointer;Name;EqualsInitializer;IdExpression;Name;DeclarationStatement;SimpleDeclaration;NamedTypeSpecifier;Name;Declarator;Name;SwitchStatement;IdExpression;Name;CompoundStatement;CaseStatement;IdExpression;Name;ExpressionStatement;BinaryExpression;IdExpression;Name;FunctionCallExpression;IdExpression;Name;UnaryExpression;IdExpression;Name;IdExpression;Name;IdExpression;Name;LiteralExpression;IdExpression;Name;IdExpression;Name;IdExpression;Name;BreakStatement;CaseStatement;IdExpression;Name;ExpressionStatement;BinaryExpression;IdExpression;Name;FunctionCallExpression;IdExpression;Name;UnaryExpression;IdExpression;Name;IdExpression;Name;IdExpression;Name;LiteralExpression;IdExpression;Name;IdExpression;Name;IdExpression;Name;IfStatement;BinaryExpression;IdExpression;Name;IdExpression;Name;CompoundStatement;ExpressionStatement;BinaryExpression;IdExpression;Name;FunctionCallExpression;IdExpression;Name;IdExpression;Name;UnaryExpression;IdExpression;Name;IdExpression;Name;CompoundStatement;ExpressionStatement;BinaryExpression;IdExpression;Name;IdExpression;Name;IfStatement;BinaryExpression;UnaryExpression;BinaryExpression;IdExpression;Name;IdExpression;Name;UnaryExpression;BinaryExpression;IdExpression;Name;IdExpression;Name;CompoundStatement;ExpressionStatement;FunctionCallExpression;IdExpression;Name;IdExpression;Name;UnaryExpression;IdExpression;Name;IfStatement;BinaryExpression;IdExpression;Name;IdExpression;Name;CompoundStatement;ExpressionStatement;FunctionCallExpression;IdExpression;Name;IdExpression;Name;IdExpression;Name;LiteralExpression;IdExpression;Name;ExpressionStatement;FunctionCallExpression;IdExpression;Name;IdExpression;Name;ReturnStatement;IdExpression;Name;BreakStatement;DefaultStatement;ExpressionStatement;FunctionCallExpression;IdExpression;Name;IdExpression;Name;IdExpression;Name;LiteralExpression;IdExpression;Name;BreakStatement;IfStatement;FunctionCallExpression;IdExpression;Name;IdExpression;Name;CompoundStatement;ExpressionStatement;BinaryExpression;IdExpression;Name;CastExpression;TypeId;NamedTypeSpecifier;Name;Declarator;Pointer;IdExpression;Name;ReturnStatement;IdExpression;Name;
-----ast_node-----
wpt_packet * wpalPacketAlloc(wpt_packet_type pktType, wpt_uint32 nPktSize,                             wpalPacketLowPacketCB rxLowCB, void *usrData){   VOS_STATUS   vosStatus = VOS_STATUS_E_FAILURE;   wpt_packet*  pPkt      = NULL;   vos_pkt_t*   pVosPkt   = NULL;   void*        pData     = NULL;   v_U16_t      allocLen;   /*- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - */   switch (pktType)   {   case eWLAN_PAL_PKT_TYPE_TX_802_11_MGMT:      vosStatus = vos_pkt_get_packet(&pVosPkt, VOS_PKT_TYPE_TX_802_11_MGMT,                                       nPktSize, 1, VOS_FALSE,                                        NULL, NULL /*no callback*/);      break;   case eWLAN_PAL_PKT_TYPE_RX_RAW:      vosStatus = vos_pkt_get_packet(&pVosPkt, VOS_PKT_TYPE_RX_RAW,                                       nPktSize, 1, VOS_FALSE,                                        wpalPacketRXLowResourceCB, usrData);#ifndef FEATURE_R33D      /* Reserve the entire raw rx buffer for DXE */      if( vosStatus == VOS_STATUS_SUCCESS )      {        vosStatus =  vos_pkt_reserve_head_fast( pVosPkt, &pData, nPktSize );       }      else      {        wpalPacketAvailableCB = rxLowCB;      }#endif /* FEATURE_R33D */      if((NULL != pVosPkt) && (VOS_STATUS_E_RESOURCES != vosStatus))      {         vos_pkt_get_packet_length(pVosPkt, &allocLen);         if (nPktSize != allocLen)         {            WPAL_TRACE(eWLAN_MODULE_PAL, eWLAN_PAL_TRACE_LEVEL_ERROR,                       "RX packet alloc has problem, discard this frame, Len %d", allocLen);            vos_pkt_return_packet(pVosPkt);            return NULL;         }      }      break;   default:      WPAL_TRACE(eWLAN_MODULE_PAL, eWLAN_PAL_TRACE_LEVEL_ERROR,                   " try to allocate unsupported packet type (%d)\n", pktType);      break;   }   if(VOS_IS_STATUS_SUCCESS(vosStatus))   {      pPkt = (wpt_packet *)pVosPkt;   }   return pPkt;}
wpt_packet
wpt_packet
* wpalPacketAlloc(wpt_packet_type pktType, wpt_uint32 nPktSize,                             wpalPacketLowPacketCB rxLowCB, void *usrData)
*
wpalPacketAlloc
wpt_packet_type pktType
wpt_packet_type
wpt_packet_type
pktType
pktType
wpt_uint32 nPktSize
wpt_uint32
wpt_uint32
nPktSize
nPktSize
wpalPacketLowPacketCB rxLowCB
wpalPacketLowPacketCB
wpalPacketLowPacketCB
rxLowCB
rxLowCB
void *usrData
void
*usrData
*
usrData
{   VOS_STATUS   vosStatus = VOS_STATUS_E_FAILURE;   wpt_packet*  pPkt      = NULL;   vos_pkt_t*   pVosPkt   = NULL;   void*        pData     = NULL;   v_U16_t      allocLen;   /*- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - */   switch (pktType)   {   case eWLAN_PAL_PKT_TYPE_TX_802_11_MGMT:      vosStatus = vos_pkt_get_packet(&pVosPkt, VOS_PKT_TYPE_TX_802_11_MGMT,                                       nPktSize, 1, VOS_FALSE,                                        NULL, NULL /*no callback*/);      break;   case eWLAN_PAL_PKT_TYPE_RX_RAW:      vosStatus = vos_pkt_get_packet(&pVosPkt, VOS_PKT_TYPE_RX_RAW,                                       nPktSize, 1, VOS_FALSE,                                        wpalPacketRXLowResourceCB, usrData);#ifndef FEATURE_R33D      /* Reserve the entire raw rx buffer for DXE */      if( vosStatus == VOS_STATUS_SUCCESS )      {        vosStatus =  vos_pkt_reserve_head_fast( pVosPkt, &pData, nPktSize );       }      else      {        wpalPacketAvailableCB = rxLowCB;      }#endif /* FEATURE_R33D */      if((NULL != pVosPkt) && (VOS_STATUS_E_RESOURCES != vosStatus))      {         vos_pkt_get_packet_length(pVosPkt, &allocLen);         if (nPktSize != allocLen)         {            WPAL_TRACE(eWLAN_MODULE_PAL, eWLAN_PAL_TRACE_LEVEL_ERROR,                       "RX packet alloc has problem, discard this frame, Len %d", allocLen);            vos_pkt_return_packet(pVosPkt);            return NULL;         }      }      break;   default:      WPAL_TRACE(eWLAN_MODULE_PAL, eWLAN_PAL_TRACE_LEVEL_ERROR,                   " try to allocate unsupported packet type (%d)\n", pktType);      break;   }   if(VOS_IS_STATUS_SUCCESS(vosStatus))   {      pPkt = (wpt_packet *)pVosPkt;   }   return pPkt;}
VOS_STATUS   vosStatus = VOS_STATUS_E_FAILURE;
VOS_STATUS   vosStatus = VOS_STATUS_E_FAILURE;
VOS_STATUS
VOS_STATUS
vosStatus = VOS_STATUS_E_FAILURE
vosStatus
= VOS_STATUS_E_FAILURE
VOS_STATUS_E_FAILURE
VOS_STATUS_E_FAILURE
wpt_packet*  pPkt      = NULL;
wpt_packet*  pPkt      = NULL;
wpt_packet
wpt_packet
*  pPkt      = NULL
*
pPkt
= NULL
NULL
NULL
vos_pkt_t*   pVosPkt   = NULL;
vos_pkt_t*   pVosPkt   = NULL;
vos_pkt_t
vos_pkt_t
*   pVosPkt   = NULL
*
pVosPkt
= NULL
NULL
NULL
void*        pData     = NULL;
void*        pData     = NULL;
void
*        pData     = NULL
*
pData
= NULL
NULL
NULL
v_U16_t      allocLen;
v_U16_t      allocLen;
v_U16_t
v_U16_t
allocLen
allocLen
switch (pktType)   {   case eWLAN_PAL_PKT_TYPE_TX_802_11_MGMT:      vosStatus = vos_pkt_get_packet(&pVosPkt, VOS_PKT_TYPE_TX_802_11_MGMT,                                       nPktSize, 1, VOS_FALSE,                                        NULL, NULL /*no callback*/);      break;   case eWLAN_PAL_PKT_TYPE_RX_RAW:      vosStatus = vos_pkt_get_packet(&pVosPkt, VOS_PKT_TYPE_RX_RAW,                                       nPktSize, 1, VOS_FALSE,                                        wpalPacketRXLowResourceCB, usrData);#ifndef FEATURE_R33D      /* Reserve the entire raw rx buffer for DXE */      if( vosStatus == VOS_STATUS_SUCCESS )      {        vosStatus =  vos_pkt_reserve_head_fast( pVosPkt, &pData, nPktSize );       }      else      {        wpalPacketAvailableCB = rxLowCB;      }#endif /* FEATURE_R33D */      if((NULL != pVosPkt) && (VOS_STATUS_E_RESOURCES != vosStatus))      {         vos_pkt_get_packet_length(pVosPkt, &allocLen);         if (nPktSize != allocLen)         {            WPAL_TRACE(eWLAN_MODULE_PAL, eWLAN_PAL_TRACE_LEVEL_ERROR,                       "RX packet alloc has problem, discard this frame, Len %d", allocLen);            vos_pkt_return_packet(pVosPkt);            return NULL;         }      }      break;   default:      WPAL_TRACE(eWLAN_MODULE_PAL, eWLAN_PAL_TRACE_LEVEL_ERROR,                   " try to allocate unsupported packet type (%d)\n", pktType);      break;   }
pktType
pktType
{   case eWLAN_PAL_PKT_TYPE_TX_802_11_MGMT:      vosStatus = vos_pkt_get_packet(&pVosPkt, VOS_PKT_TYPE_TX_802_11_MGMT,                                       nPktSize, 1, VOS_FALSE,                                        NULL, NULL /*no callback*/);      break;   case eWLAN_PAL_PKT_TYPE_RX_RAW:      vosStatus = vos_pkt_get_packet(&pVosPkt, VOS_PKT_TYPE_RX_RAW,                                       nPktSize, 1, VOS_FALSE,                                        wpalPacketRXLowResourceCB, usrData);#ifndef FEATURE_R33D      /* Reserve the entire raw rx buffer for DXE */      if( vosStatus == VOS_STATUS_SUCCESS )      {        vosStatus =  vos_pkt_reserve_head_fast( pVosPkt, &pData, nPktSize );       }      else      {        wpalPacketAvailableCB = rxLowCB;      }#endif /* FEATURE_R33D */      if((NULL != pVosPkt) && (VOS_STATUS_E_RESOURCES != vosStatus))      {         vos_pkt_get_packet_length(pVosPkt, &allocLen);         if (nPktSize != allocLen)         {            WPAL_TRACE(eWLAN_MODULE_PAL, eWLAN_PAL_TRACE_LEVEL_ERROR,                       "RX packet alloc has problem, discard this frame, Len %d", allocLen);            vos_pkt_return_packet(pVosPkt);            return NULL;         }      }      break;   default:      WPAL_TRACE(eWLAN_MODULE_PAL, eWLAN_PAL_TRACE_LEVEL_ERROR,                   " try to allocate unsupported packet type (%d)\n", pktType);      break;   }
case eWLAN_PAL_PKT_TYPE_TX_802_11_MGMT:
eWLAN_PAL_PKT_TYPE_TX_802_11_MGMT
eWLAN_PAL_PKT_TYPE_TX_802_11_MGMT
vosStatus = vos_pkt_get_packet(&pVosPkt, VOS_PKT_TYPE_TX_802_11_MGMT,                                       nPktSize, 1, VOS_FALSE,                                        NULL, NULL /*no callback*/);
vosStatus = vos_pkt_get_packet(&pVosPkt, VOS_PKT_TYPE_TX_802_11_MGMT,                                       nPktSize, 1, VOS_FALSE,                                        NULL, NULL /*no callback*/)
vosStatus
vosStatus
vos_pkt_get_packet(&pVosPkt, VOS_PKT_TYPE_TX_802_11_MGMT,                                       nPktSize, 1, VOS_FALSE,                                        NULL, NULL /*no callback*/)
vos_pkt_get_packet
vos_pkt_get_packet
&pVosPkt
pVosPkt
pVosPkt
VOS_PKT_TYPE_TX_802_11_MGMT
VOS_PKT_TYPE_TX_802_11_MGMT
nPktSize
nPktSize
1
VOS_FALSE
VOS_FALSE
NULL
NULL
NULL
NULL
break;
case eWLAN_PAL_PKT_TYPE_RX_RAW:
eWLAN_PAL_PKT_TYPE_RX_RAW
eWLAN_PAL_PKT_TYPE_RX_RAW
vosStatus = vos_pkt_get_packet(&pVosPkt, VOS_PKT_TYPE_RX_RAW,                                       nPktSize, 1, VOS_FALSE,                                        wpalPacketRXLowResourceCB, usrData);
vosStatus = vos_pkt_get_packet(&pVosPkt, VOS_PKT_TYPE_RX_RAW,                                       nPktSize, 1, VOS_FALSE,                                        wpalPacketRXLowResourceCB, usrData)
vosStatus
vosStatus
vos_pkt_get_packet(&pVosPkt, VOS_PKT_TYPE_RX_RAW,                                       nPktSize, 1, VOS_FALSE,                                        wpalPacketRXLowResourceCB, usrData)
vos_pkt_get_packet
vos_pkt_get_packet
&pVosPkt
pVosPkt
pVosPkt
VOS_PKT_TYPE_RX_RAW
VOS_PKT_TYPE_RX_RAW
nPktSize
nPktSize
1
VOS_FALSE
VOS_FALSE
wpalPacketRXLowResourceCB
wpalPacketRXLowResourceCB
usrData
usrData
if( vosStatus == VOS_STATUS_SUCCESS )      {        vosStatus =  vos_pkt_reserve_head_fast( pVosPkt, &pData, nPktSize );       }      else      {        wpalPacketAvailableCB = rxLowCB;      }
vosStatus == VOS_STATUS_SUCCESS
vosStatus
vosStatus
VOS_STATUS_SUCCESS
VOS_STATUS_SUCCESS
{        vosStatus =  vos_pkt_reserve_head_fast( pVosPkt, &pData, nPktSize );       }
vosStatus =  vos_pkt_reserve_head_fast( pVosPkt, &pData, nPktSize );
vosStatus =  vos_pkt_reserve_head_fast( pVosPkt, &pData, nPktSize )
vosStatus
vosStatus
vos_pkt_reserve_head_fast( pVosPkt, &pData, nPktSize )
vos_pkt_reserve_head_fast
vos_pkt_reserve_head_fast
pVosPkt
pVosPkt
&pData
pData
pData
nPktSize
nPktSize
{        wpalPacketAvailableCB = rxLowCB;      }
wpalPacketAvailableCB = rxLowCB;
wpalPacketAvailableCB = rxLowCB
wpalPacketAvailableCB
wpalPacketAvailableCB
rxLowCB
rxLowCB
if((NULL != pVosPkt) && (VOS_STATUS_E_RESOURCES != vosStatus))      {         vos_pkt_get_packet_length(pVosPkt, &allocLen);         if (nPktSize != allocLen)         {            WPAL_TRACE(eWLAN_MODULE_PAL, eWLAN_PAL_TRACE_LEVEL_ERROR,                       "RX packet alloc has problem, discard this frame, Len %d", allocLen);            vos_pkt_return_packet(pVosPkt);            return NULL;         }      }
(NULL != pVosPkt) && (VOS_STATUS_E_RESOURCES != vosStatus)
(NULL != pVosPkt)
NULL != pVosPkt
NULL
NULL
pVosPkt
pVosPkt
(VOS_STATUS_E_RESOURCES != vosStatus)
VOS_STATUS_E_RESOURCES != vosStatus
VOS_STATUS_E_RESOURCES
VOS_STATUS_E_RESOURCES
vosStatus
vosStatus
{         vos_pkt_get_packet_length(pVosPkt, &allocLen);         if (nPktSize != allocLen)         {            WPAL_TRACE(eWLAN_MODULE_PAL, eWLAN_PAL_TRACE_LEVEL_ERROR,                       "RX packet alloc has problem, discard this frame, Len %d", allocLen);            vos_pkt_return_packet(pVosPkt);            return NULL;         }      }
vos_pkt_get_packet_length(pVosPkt, &allocLen);
vos_pkt_get_packet_length(pVosPkt, &allocLen)
vos_pkt_get_packet_length
vos_pkt_get_packet_length
pVosPkt
pVosPkt
&allocLen
allocLen
allocLen
if (nPktSize != allocLen)         {            WPAL_TRACE(eWLAN_MODULE_PAL, eWLAN_PAL_TRACE_LEVEL_ERROR,                       "RX packet alloc has problem, discard this frame, Len %d", allocLen);            vos_pkt_return_packet(pVosPkt);            return NULL;         }
nPktSize != allocLen
nPktSize
nPktSize
allocLen
allocLen
{            WPAL_TRACE(eWLAN_MODULE_PAL, eWLAN_PAL_TRACE_LEVEL_ERROR,                       "RX packet alloc has problem, discard this frame, Len %d", allocLen);            vos_pkt_return_packet(pVosPkt);            return NULL;         }
WPAL_TRACE(eWLAN_MODULE_PAL, eWLAN_PAL_TRACE_LEVEL_ERROR,                       "RX packet alloc has problem, discard this frame, Len %d", allocLen);
WPAL_TRACE(eWLAN_MODULE_PAL, eWLAN_PAL_TRACE_LEVEL_ERROR,                       "RX packet alloc has problem, discard this frame, Len %d", allocLen)
WPAL_TRACE
WPAL_TRACE
eWLAN_MODULE_PAL
eWLAN_MODULE_PAL
eWLAN_PAL_TRACE_LEVEL_ERROR
eWLAN_PAL_TRACE_LEVEL_ERROR
"RX packet alloc has problem, discard this frame, Len %d"
allocLen
allocLen
vos_pkt_return_packet(pVosPkt);
vos_pkt_return_packet(pVosPkt)
vos_pkt_return_packet
vos_pkt_return_packet
pVosPkt
pVosPkt
return NULL;
NULL
NULL
break;
default:
WPAL_TRACE(eWLAN_MODULE_PAL, eWLAN_PAL_TRACE_LEVEL_ERROR,                   " try to allocate unsupported packet type (%d)\n", pktType);
WPAL_TRACE(eWLAN_MODULE_PAL, eWLAN_PAL_TRACE_LEVEL_ERROR,                   " try to allocate unsupported packet type (%d)\n", pktType)
WPAL_TRACE
WPAL_TRACE
eWLAN_MODULE_PAL
eWLAN_MODULE_PAL
eWLAN_PAL_TRACE_LEVEL_ERROR
eWLAN_PAL_TRACE_LEVEL_ERROR
" try to allocate unsupported packet type (%d)\n"
pktType
pktType
break;
if(VOS_IS_STATUS_SUCCESS(vosStatus))   {      pPkt = (wpt_packet *)pVosPkt;   }
VOS_IS_STATUS_SUCCESS(vosStatus)
VOS_IS_STATUS_SUCCESS
VOS_IS_STATUS_SUCCESS
vosStatus
vosStatus
{      pPkt = (wpt_packet *)pVosPkt;   }
pPkt = (wpt_packet *)pVosPkt;
pPkt = (wpt_packet *)pVosPkt
pPkt
pPkt
(wpt_packet *)pVosPkt
wpt_packet *
wpt_packet
wpt_packet
*
*
pVosPkt
pVosPkt
return pPkt;
pPkt
pPkt
-----joern-----
(50,24,0)
(18,44,0)
(46,30,0)
(27,91,0)
(60,64,0)
(112,51,0)
(30,106,0)
(68,30,0)
(30,35,0)
(91,82,0)
(42,51,0)
(7,71,0)
(69,64,0)
(39,69,0)
(54,91,0)
(45,3,0)
(51,46,0)
(106,30,0)
(40,23,0)
(41,48,0)
(78,30,0)
(91,102,0)
(17,22,0)
(6,91,0)
(93,69,0)
(4,39,0)
(37,87,0)
(90,30,0)
(62,69,0)
(31,48,0)
(43,67,0)
(97,3,0)
(94,36,0)
(58,64,0)
(18,55,0)
(30,46,0)
(110,30,0)
(73,17,0)
(17,48,0)
(67,69,0)
(77,17,0)
(101,48,0)
(3,9,0)
(79,3,0)
(26,64,0)
(102,91,0)
(38,39,0)
(14,91,0)
(14,69,0)
(47,32,0)
(49,38,0)
(19,10,0)
(25,106,0)
(100,69,0)
(67,50,0)
(65,63,0)
(80,29,0)
(98,64,0)
(87,108,0)
(100,23,0)
(100,70,0)
(104,46,0)
(95,48,0)
(85,100,0)
(67,87,0)
(28,62,0)
(32,64,0)
(111,93,0)
(10,64,0)
(107,48,0)
(76,102,0)
(5,18,0)
(49,50,0)
(70,100,0)
(105,69,0)
(59,69,0)
(11,18,0)
(72,108,0)
(15,91,0)
(106,69,0)
(86,108,0)
(87,67,0)
(20,91,0)
(75,17,0)
(108,64,0)
(21,30,0)
(30,82,0)
(74,17,0)
(66,102,0)
(84,70,0)
(33,48,0)
(63,18,0)
(93,9,0)
(71,64,0)
(61,36,0)
(62,29,0)
(99,39,0)
(96,30,0)
(12,64,0)
(76,46,0)
(102,48,0)
(0,49,0)
(39,38,0)
(92,49,0)
(13,48,0)
(76,50,0)
(7,63,0)
(53,32,0)
(29,62,0)
(103,62,0)
(46,48,0)
(38,49,0)
(56,14,0)
(71,10,0)
(62,103,0)
(89,10,0)
(109,67,0)
(81,64,0)
(91,14,0)
(88,50,0)
(16,3,0)
(67,82,0)
(63,9,0)
(49,46,0)
(76,32,0)
(36,82,0)
(29,83,0)
(2,48,0)
(71,29,0)
(52,64,0)
(34,71,0)
(8,76,0)
(50,67,0)
(57,91,0)
(104,1,1)
(76,46,1)
(91,14,1)
(71,10,1)
(1,108,1)
(101,102,1)
(54,57,1)
(79,16,1)
(67,69,1)
(93,111,1)
(30,82,1)
(29,62,1)
(69,59,1)
(59,105,1)
(43,87,1)
(76,8,1)
(74,75,1)
(41,17,1)
(76,50,1)
(39,69,1)
(14,69,1)
(89,32,1)
(51,112,1)
(46,30,1)
(76,32,1)
(18,5,1)
(10,19,1)
(33,38,1)
(87,108,1)
(92,0,1)
(28,80,1)
(75,73,1)
(80,76,1)
(42,46,1)
(18,44,1)
(36,61,1)
(17,77,1)
(110,21,1)
(68,90,1)
(91,82,1)
(15,54,1)
(34,29,1)
(7,63,1)
(16,36,1)
(91,6,1)
(27,15,1)
(61,94,1)
(100,69,1)
(90,78,1)
(6,27,1)
(67,43,1)
(111,3,1)
(106,69,1)
(100,70,1)
(4,50,1)
(99,4,1)
(62,103,1)
(62,28,1)
(49,50,1)
(37,109,1)
(112,42,1)
(97,45,1)
(56,66,1)
(62,69,1)
(76,102,1)
(30,106,1)
(77,74,1)
(93,69,1)
(38,39,1)
(106,25,1)
(105,10,1)
(96,106,1)
(14,56,1)
(25,104,1)
(3,97,1)
(47,53,1)
(45,79,1)
(49,92,1)
(0,39,1)
(78,110,1)
(63,18,1)
(70,84,1)
(17,22,1)
(71,34,1)
(85,38,1)
(63,65,1)
(57,20,1)
(50,67,1)
(33,36,1)
(102,91,1)
(84,85,1)
(51,46,1)
(72,86,1)
(108,72,1)
(11,51,1)
(36,82,1)
(8,41,1)
(8,101,1)
(65,93,1)
(5,11,1)
(21,96,1)
(67,82,1)
(30,68,1)
(109,88,1)
(67,87,1)
(87,37,1)
(86,69,1)
(71,29,1)
(30,35,1)
(34,76,1)
(49,46,1)
(66,1,1)
(4,18,1)
(8,33,1)
(73,1,1)
(38,49,1)
(88,51,1)
(94,100,1)
(39,99,1)
(32,47,1)
(7,71,1)
(20,14,1)
(19,89,1)
(91,82,2)
(84,38,2)
(30,106,2)
(7,71,2)
(102,1,2)
(29,76,2)
(38,49,2)
(38,1,2)
(43,51,2)
(49,39,2)
(92,39,2)
(51,1,2)
(16,36,2)
(73,1,2)
(15,1,2)
(34,36,2)
(71,1,2)
(18,51,2)
(94,38,2)
(56,1,2)
(8,36,2)
(50,51,2)
(93,69,2)
(112,1,2)
(65,36,2)
(77,1,2)
(30,35,2)
(111,36,2)
(85,38,2)
(36,82,2)
(61,38,2)
(29,62,2)
(74,1,2)
(79,36,2)
(80,76,2)
(71,10,2)
(30,1,2)
(17,1,2)
(18,44,2)
(87,108,2)
(78,1,2)
(76,102,2)
(76,46,2)
(66,1,2)
(71,36,2)
(63,36,2)
(57,1,2)
(25,1,2)
(100,38,2)
(6,1,2)
(34,1,2)
(71,29,2)
(76,38,2)
(45,36,2)
(20,1,2)
(67,69,2)
(96,1,2)
(46,30,2)
(102,91,2)
(50,67,2)
(34,38,2)
(62,103,2)
(39,1,2)
(37,51,2)
(54,1,2)
(41,1,2)
(87,51,2)
(11,51,2)
(70,38,2)
(75,1,2)
(76,1,2)
(49,50,2)
(106,69,2)
(100,69,2)
(0,39,2)
(33,36,2)
(93,36,2)
(5,51,2)
(17,22,2)
(14,1,2)
(36,38,2)
(8,38,2)
(109,51,2)
(21,1,2)
(101,1,2)
(90,1,2)
(88,51,2)
(4,1,2)
(62,69,2)
(27,1,2)
(76,50,2)
(67,87,2)
(63,18,2)
(49,46,2)
(8,1,2)
(28,76,2)
(97,36,2)
(67,51,2)
(42,1,2)
(7,63,2)
(76,32,2)
(106,1,2)
(68,1,2)
(76,36,2)
(46,1,2)
(100,70,2)
(104,1,2)
(33,38,2)
(39,69,2)
(14,69,2)
(38,39,2)
(62,76,2)
(110,1,2)
(30,82,2)
(91,14,2)
(99,1,2)
(91,1,2)
(3,36,2)
(51,46,2)
(67,82,2)
(71,38,2)
-----------------------------------
(0,VOS_STATUS_E_RESOURCES)
(1,pktType)
(2,case eWLAN_PAL_PKT_TYPE_TX_802_11_MGMT:)
(3,WPAL_TRACE(eWLAN_MODULE_PAL, eWLAN_PAL_TRACE_LEVEL_ERROR,\n\\n                       "RX packet alloc has problem, discard this frame, Len %d", allocLen)
(4,NULL)
(5,rxLowCB)
(6,NULL)
(7,RET)
(8,vosStatus)
(9,)
(10,*  pPkt      = NULL)
(11,wpalPacketAvailableCB)
(12,switch (pktType)
(13,if((NULL != pVosPkt)
(14,&pVosPkt)
(15,VOS_FALSE)
(16,eWLAN_MODULE_PAL)
(17,WPAL_TRACE(eWLAN_MODULE_PAL, eWLAN_PAL_TRACE_LEVEL_ERROR, \n\\n                  " try to allocate unsupported packet type (%d)
(18,wpalPacketAvailableCB = rxLowCB)
(19,NULL)
(20,VOS_PKT_TYPE_TX_802_11_MGMT)
(21,nPktSize)
(22,wpt_packet_type pktType)
(23,)
(24,)
(25,pVosPkt)
(26,if(VOS_IS_STATUS_SUCCESS(vosStatus)
(27,NULL)
(28,pVosPkt)
(29,pPkt = (wpt_packet *)
(30,vos_pkt_get_packet(&pVosPkt, VOS_PKT_TYPE_RX_RAW,\n\\n                                       nPktSize, 1, VOS_FALSE, \n\\n                                       wpalPacketRXLowResourceCB, usrData)
(31,case eWLAN_PAL_PKT_TYPE_RX_RAW:)
(32,vosStatus = VOS_STATUS_E_FAILURE)
(33,break;)
(34,pPkt)
(35,void *usrData)
(36,nPktSize != allocLen)
(37,pData)
(38,(NULL != pVosPkt)
(39,NULL != pVosPkt)
(40,if (nPktSize != allocLen)
(41,break;)
(42,vosStatus)
(43,nPktSize)
(44,wpalPacketLowPacketCB rxLowCB)
(45,"RX packet alloc has problem, discard this frame, Len %d")
(46,vosStatus = vos_pkt_get_packet(&pVosPkt, VOS_PKT_TYPE_RX_RAW,\n\\n                                       nPktSize, 1, VOS_FALSE, \n\\n                                       wpalPacketRXLowResourceCB, usrData)
(47,VOS_STATUS_E_FAILURE)
(48,)
(49,VOS_STATUS_E_RESOURCES != vosStatus)
(50,vosStatus =  vos_pkt_reserve_head_fast( pVosPkt, &pData, nPktSize )
(51,vosStatus == VOS_STATUS_SUCCESS)
(52,pPkt)
(53,vosStatus)
(54,1)
(55,)
(56,pVosPkt)
(57,nPktSize)
(58,allocLen)
(59,NULL)
(60,vosStatus)
(61,allocLen)
(62,(wpt_packet *)
(63,return NULL;)
(64,)
(65,NULL)
(66,vosStatus)
(67,vos_pkt_reserve_head_fast( pVosPkt, &pData, nPktSize )
(68,usrData)
(69,*   pVosPkt   = NULL)
(70,&allocLen)
(71,return pPkt;)
(72,NULL)
(73,eWLAN_MODULE_PAL)
(74," try to allocate unsupported packet type (%d)
(75,eWLAN_PAL_TRACE_LEVEL_ERROR)
(76,VOS_IS_STATUS_SUCCESS(vosStatus)
(77,pktType)
(78,VOS_FALSE)
(79,eWLAN_PAL_TRACE_LEVEL_ERROR)
(80,pPkt)
(81,pVosPkt)
(82,wpt_uint32 nPktSize)
(83,)
(84,allocLen)
(85,pVosPkt)
(86,pData)
(87,&pData)
(88,vosStatus)
(89,pPkt)
(90,wpalPacketRXLowResourceCB)
(91,vos_pkt_get_packet(&pVosPkt, VOS_PKT_TYPE_TX_802_11_MGMT,\n\\n                                       nPktSize, 1, VOS_FALSE, \n\\n                                       NULL, NULL /*no callback*/)
(92,vosStatus)
(93,vos_pkt_return_packet(pVosPkt)
(94,nPktSize)
(95,default:)
(96,VOS_PKT_TYPE_RX_RAW)
(97,allocLen)
(98,pData)
(99,pVosPkt)
(100,vos_pkt_get_packet_length(pVosPkt, &allocLen)
(101,break;)
(102,vosStatus = vos_pkt_get_packet(&pVosPkt, VOS_PKT_TYPE_TX_802_11_MGMT,\n\\n                                       nPktSize, 1, VOS_FALSE, \n\\n                                       NULL, NULL /*no callback*/)
(103,wpt_packet *)
(104,vosStatus)
(105,pVosPkt)
(106,&pVosPkt)
(107,if( vosStatus == VOS_STATUS_SUCCESS )
(108,*        pData     = NULL)
(109,pVosPkt)
(110,1)
(111,pVosPkt)
(112,VOS_STATUS_SUCCESS)
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^